[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Data Visualization for Regression Monkeys",
    "section": "",
    "text": "Welcome\nã“ã®Quarto Bookã¯ä»¥ä¸‹ã®ã‚·ãƒªãƒ¼ã‚ºã¨é€£å‹•ã—ã¦é‹ç”¨ã•ã‚Œã¦ã„ã¾ã™:",
    "crumbs": [
      "Welcome"
    ]
  },
  {
    "objectID": "index.html#references",
    "href": "index.html#references",
    "title": "Data Visualization for Regression Monkeys",
    "section": "References",
    "text": "References\n\n\nKnaflic, C. N. (2016), Storytelling\nwith data: A data visualization guide for business\nprofessionals, Oâ€™Reilly Media.\n\n\nYau, N. (2013), Data\npoints: Visualization that means something, Indianapolis, Ind.\n: John Wiley.",
    "crumbs": [
      "Welcome"
    ]
  },
  {
    "objectID": "posts/introduction.html",
    "href": "posts/introduction.html",
    "title": "Introduction",
    "section": "",
    "text": "è‰¯ã„å¯è¦–åŒ–ã¨ã¯?\nè‰¯ã„ãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ–ã¯ï¼Œçµ±è¨ˆåˆ†æã¨å¯è¦–åŒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã®ï¼’ã¤ã®èƒ½åŠ›ã«åŸºã¥ã„ã¦ã„ã¾ã™ï¼\nä¸¡æ–¹ã®ã‚¹ã‚­ãƒ«ã‚’é©åˆ‡ã«çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã«ã‚ˆã£ã¦ï¼Œãƒ‡ãƒ¼ã‚¿æ¢ç´¢ã¨story-tellingãŒçµã³ã¤ã„ã¦ï¼Œãƒ‡ãƒ¼ã‚¿ã®ç†è§£ã‚’ç›®çš„ã¨ã™ã‚‹ç§‘å­¦çš„ãªã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨ãªã‚Šã¾ã™ï¼\nâ–¶Â  Dataã¨ã¯ãªã«ã‹ï¼Ÿ\nDataã¨ã¯ï¼Œã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚„ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã®é›†åˆã¨ã„ã£ãŸã‚³ãƒ³ãƒ”ãƒ¥ã‚¿ãƒ¼ä¸Šã§ã®å­˜åœ¨å½¢å¼ã‚’æŒ‡ã™ã®ã§ã¯ãªãï¼Œä¸€ç¾©çš„ã«ã¯ã€Œä¸–ç•Œã®æ–­é¢ã‚’è¨˜éŒ²ã—ãŸã‚‚ã®ã€ã§ã™ï¼\nâ–¶Â  Rules vs Suggestions\nbar chartãªã‚Šscatter plotãªã‚Šï¼Œèª­ã¿æ‰‹ãŒãƒ‡ãƒ¼ã‚¿ã«ã¤ã„ã¦æ­£ç¢ºãªè§£é‡ˆã‚’ã™ã‚‹ã“ã¨ãŒã§ãã‚‹å¯è¦–åŒ–ã§ãªã‘ã‚Œã°ãªã‚‰ãªã„ï¼Œã¨ã„ã†ã®ã¯ãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ–ã®ãƒ«ãƒ¼ãƒ«ã®ï¼‘ã¤ã§ã™ï¼ ä¸€æ–¹ï¼Œaxisã®ã‚¹ã‚±ãƒ¼ãƒ«ãªã©ã¯ç§‘å­¦åˆ†é‡ã§ã¯Scientific Notation(ä¾‹: \\(-1.602\\times 10^{-19}\\))ã‚’ç”¨ã„ã‚‹ã¹ããªã©ï¼Œã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å ´é¢ã«å¿œã˜ã¦æ¨å¥¨ãŒå¤‰ã‚ã£ã¦ãã¾ã™ï¼\nã€Œä½™åˆ†ãªæƒ…å ±ã¯å‰Šãè½ã¨ã›ã€ã¨ä¸Šå¸ã‹ã‚‰ã‚³ãƒ¡ãƒ³ãƒˆã‚’ã‚‚ã‚‰ã£ãŸã¨ã—ã¦ã‚‚ï¼Œãªã«ãŒä½™åˆ†ãªæƒ…å ±ãªã®ã‹ã¯å ´é¢ã«ã‚ˆã£ã¦ç•°ãªã‚Šã¾ã™ï¼ãã®ãŸã‚ï¼Œãªã«ãŒRulesã§ãªã«ãŒSuggestionãªã®ã‹ã‚’åŒºåˆ¥ã™ã‚‹ç¿’æ…£ãŒé‡è¦ã«ãªã‚Šã¾ã™ï¼",
    "crumbs": [
      "Introduction"
    ]
  },
  {
    "objectID": "posts/introduction.html#è‰¯ã„å¯è¦–åŒ–ã¨ã¯",
    "href": "posts/introduction.html#è‰¯ã„å¯è¦–åŒ–ã¨ã¯",
    "title": "Introduction",
    "section": "",
    "text": "Definition 1 : å¯è¦–åŒ– \nãƒ‡ãƒ¼ã‚¿ã®æ§‹é€ ãƒ»å‚¾å‘ãƒ»ç•°å¸¸ãªã©ã‚’äººãŒè¦–è¦šçš„ã«ç†è§£ã§ãã‚‹å½¢ã«å¤‰æ›ã™ã‚‹å·¥ç¨‹ã®ã“ã¨ã‚’å¯è¦–åŒ–ã¨å‘¼ã¶ï¼\n\n\n\n\nçµ±è¨ˆåˆ†æèƒ½åŠ›ãŒãªã„å¯è¦–åŒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã¯ï¼Œå˜ãªã‚‹æ§˜å¼ç¾ã®æä¾›ã«ã¨ã©ã¾ã‚Š\nå¯è¦–åŒ–ãƒ‡ã‚¶ã‚¤ãƒ³èƒ½åŠ›ãŒä¼´ã‚ãªã„çµ±è¨ˆåˆ†æã¯å˜ãªã‚‹åˆ†æï¼Œãƒ‡ãƒ¼ã‚¿æ¢ç´¢ã«ã¨ãªã‚Šã¾ã™\n\n\n\n\n\n\n\n\nå¯è¦–åŒ–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨story-tellingã®é•ã„\nãƒ‡ãƒ¼ã‚¿ã‚’ç”¨ã„ãŸstory-tellingã¨ã„ã†æ´»å‹•ã®ä¸­ã®ä¸€ã¤ã®å·¥ç¨‹ã¨ã—ã¦ã€Œãƒ‡ãƒ¼ã‚¿ã®æ§‹é€ ã‚„ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¦‹ã‚„ã™ãã™ã‚‹ã€å¯è¦–åŒ–ãŒå­˜åœ¨ã—ã¾ã™ï¼ãã®å¯è¦–åŒ–å·¥ç¨‹ã®ä¾¿åˆ©ãƒ„ãƒ¼ãƒ«ã¨ã—ã¦matplotlib, plotly, ggplot ã¨ã„ã£ãŸå¯è¦–åŒ–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒå­˜åœ¨ã—ã¾ã™ï¼ å¯è¦–åŒ–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯å¯è¦–åŒ–æ‰‹æ³•ã«é–¢ã™ã‚‹æ–‡æ³•(grammer)ãŒãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªå½¢ã§å®Ÿè£…ã§å®Ÿè£…ã•ã‚Œã¦ãŠã‚Šï¼Œãã‚Œã‚‰ã‚’ä½¿ã„ã“ãªã™ã“ã¨ã§è‡ªåˆ†ãŒä¼ãˆãŸã„å†…å®¹ã‚’ä¸Šæ‰‹ãå¯è¦–åŒ–ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ(scatter plot, line plot, heatmap, etc.,)ã¨ã—ã¦å‡ºåŠ›ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼\nä¸€æ–¹ï¼Œå¯è¦–åŒ–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’åˆ©ç”¨ã™ã‚‹ã«ã‚ãŸã£ã¦ï¼Œä»¥ä¸‹ã®ãƒã‚¤ãƒ³ãƒˆã‚’å¸¸ã«å¿˜ã‚Œãªã„ã‚ˆã†ã«ã—ã¾ã—ã‚‡ã†\n\nå¯è¦–åŒ–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ã£ã¦å‡ºåŠ›ã•ã‚ŒãŸã‚‚ã®ã¯ï¼Œã‚ãã¾ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæŒ‡å®šã—ãŸã‚‚ã®ã«å¯¾å¿œã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã‚ã£ã¦ï¼Œãã‚Œè‡ªä½“ãŒãƒ‡ãƒ¼ã‚¿ã‚’ç”¨ã„ãŸstory-tellingã«ãªã‚‹ã‚ã‘ã§ã¯ãªã„\nå¯è¦–åŒ–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ã„ã“ãªã—ãŸã¨ã—ã¦ã‚‚ï¼Œãã®å¯è¦–åŒ–ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚¹ãƒšãƒ¼ã‚¹ï¼ˆè¡¨ç¾å¹…ï¼‰ã¯å¯è¦–åŒ–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã”ã¨ã«è¦ç¨‹ã•ã‚Œã¦ã—ã¾ã†ãŸã‚ï¼Œãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæããŸã„å¯è¦–åŒ–ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯å¿…ãšã—ã‚‚æã‘ã‚‹ã¨ã¯é™ã‚‰ãªã„\n\n â–¶Â  å¯è¦–åŒ–ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆè¡¨ç¾ç©ºé–“ã®åˆ¶é™\nãŸã¨ãˆã° seaborn ã§ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ã‚’æããŸã„ã¨æ€ã£ãŸã¨ãï¼ŒæŒ‡å®šã§ãã‚‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚„è¦‹ãŸç›®ã¯ï¼ŒseabornãŒæä¾›ã—ã¦ã„ã‚‹æ©Ÿèƒ½ã«é™å®šã•ã‚Œã¾ã™ï¼ ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œã«å¿œã˜ã¦å¯è¦–åŒ–ã‚’å¤‰åŒ–ã•ã›ãŸã„ï¼ˆã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ï¼‰å ´åˆï¼Œseabornã ã‘ã§ã¯ä¸å¯èƒ½ã§ï¼Œplotlyãªã©åˆ¥ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®åˆ©ç”¨ãªã©ã‚’æ¤œè¨ã™ã‚‹å¿…è¦ãŒæœ‰ã‚Šã¾ã™ï¼",
    "crumbs": [
      "Introduction"
    ]
  },
  {
    "objectID": "posts/eda-setup/chapter-header.html",
    "href": "posts/eda-setup/chapter-header.html",
    "title": "ãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ–ã®20 Rules",
    "section": "",
    "text": "Rules\n\n\n\n\nSVGã‚„EPSãªã©ã®vector graphicsã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨\nèª­ã¿ã‚„ã™ã„ãƒ•ã‚©ãƒ³ãƒˆã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨\nã”ã¡ã‚ƒã”ã¡ã‚ƒã—ãŸå‡¡ä¾‹(legend)ã¯å®³æ‚ªï¼æœ€ä½é™ï¼ŒlegendãŒãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆã‚’éš ã—ã¦ã—ã¾ã†äº‹æ…‹ã¯é¿ã‘ã‚‹ã“ã¨\nAxes(è»¸)ã«ã¯é©åˆ‡ãªãƒ©ãƒ™ãƒ«ã‚’ã¤ã‘ã‚‹ã“ã¨\n\n\n\n\nRule 1: SVGã‚„EPSãªã©ã®vector graphicsã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨\n\nvector graphicsã¯æ‹¡å¤§ã—ã¦ã‚‚é®®æ˜ã•ã‚’ä¿ã¡ï¼Œã¼ã‚„ã‘ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã›ã‚“\nJPEGã€BMPã€PNGãƒ•ã‚¡ã‚¤ãƒ«ã¯æ‹¡å¤§ã™ã‚‹ã¨ç”»åƒãŒã¼ã‚„ã‘ãŸã‚Šï¼Œéå¸¸ã«é«˜è§£åƒåº¦ã§ä¿å­˜ã—ãŸå ´åˆã«ã¯ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒæ¥µã‚ã¦å¤§ãããªã£ãŸã‚Šã—ã¦ã—ã¾ã†\nPlotlyã«ã¦svgå½¢å¼ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä¿å­˜ã™ã‚‹å ´åˆã¯ kaleido ãŒå¿…è¦\n\n\n\nRule 2: èª­ã¿ã‚„ã™ã„ãƒ•ã‚©ãƒ³ãƒˆã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨\n\næ—¥æœ¬èªå¯¾å¿œã‚µãƒ³ã‚»ãƒªãƒ•ä½“ã¨ã—ã¦ï¼ŒMeiryo, M+ 1p, IPAexGothic ãŒã‚ã‚‹ã®ã§ï¼Œã“ã‚Œã‚‰ã®ã„ãšã‚Œã‹ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨\nfont typeã ã‘ã§ãªãï¼Œfont sizeã‚‚é‡è¦ãªè¦ç´ ï¼ã¤ã¶ã‚Œã¦èª­ã‚ãªããªã£ã¦ã—ã¾ã†çŠ¶æ³ã‚’å›é¿ã™ã‚‹ã“ã¨\n\n\n\nRule 3: ã”ã¡ã‚ƒã”ã¡ã‚ƒã—ãŸå‡¡ä¾‹(legend)ã¯å®³æ‚ª\n\nå‡¡ä¾‹ã®ä¹±ã‚Œã¯ç²¾ç¥ã®ä¹±ã‚Œ\nå¯èƒ½ã§ã‚ã‚Œã°ï¼Œå‡¡ä¾‹ã‚’ä½¿ã‚ãšã«ãƒ—ãƒ­ãƒƒãƒˆã®è¦ç´ ã«ç›´æ¥ãƒ©ãƒ™ãƒ«ã‚’ä»˜ã‘ã‚‹\næœ€ä½é™ï¼Œå‡¡ä¾‹ãŒãƒ—ãƒ­ãƒƒãƒˆã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚’éš ã•ãªã„ã‚ˆã†ã«é…ç½®ã™ã‚‹ã“ã¨\nsequential dataã§ã‚ã‚‹ãªã‚‰ã°ï¼Œlegendã®é †ç•ªã¯é™é †(highest to lowest)ã«ä¸¦ã‚“ã§ã„ã‚‹ã“ã¨",
    "crumbs": [
      "ãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ–ã®20 Rules"
    ]
  },
  {
    "objectID": "posts/eda-setup/font-setup.html",
    "href": "posts/eda-setup/font-setup.html",
    "title": "1Â  Meiryo fontã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—",
    "section": "",
    "text": "Linuxç’°å¢ƒã§ã®Meiryo Fontè¨­å®š\nLinux OSã®å ´åˆï¼Œ.local/share/fontsä»¥ä¸‹ã«ä»¥ä¸‹ã®Meiryoãƒ•ã‚©ãƒ³ãƒˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ï¼\nç’°å¢ƒè¦ä»¶\næ‰‹é †",
    "crumbs": [
      "ãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ–ã®20 Rules",
      "<span class='chapter-number'>1</span>Â  <span class='chapter-title'>Meiryo fontã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—</span>"
    ]
  },
  {
    "objectID": "posts/eda-setup/font-setup.html#linuxç’°å¢ƒã§ã®meiryo-fontè¨­å®š",
    "href": "posts/eda-setup/font-setup.html#linuxç’°å¢ƒã§ã®meiryo-fontè¨­å®š",
    "title": "1Â  Meiryo fontã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—",
    "section": "",
    "text": "Fonts\nFile\nExplanation\n\n\n\n\nMeiryo\nmeiryo.ttc\nMeiryo UI Regular, Meiryo UI Italic, Meiryo Regular, Meiryo Italic\n\n\n\nmeiryob.ttc\nMeiryo UI Bold, Meiryo UI Bold Italic, Meiryo Bold, Meiryo Bold Italic\n\n\n\n\n\n\nLinux operating system(Ubuntuã‚’å«ã‚€)\nfc-cache ã‚³ãƒãƒ³ãƒ‰\n\nMacOsã§å®Ÿè¡Œã™ã‚‹å ´åˆã¯, brew install ricty ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã§fc-cache ã‚³ãƒãƒ³ãƒ‰ãŒåˆ©ç”¨å¯èƒ½ã«ãªã‚Šã¾ã™\n\n\n\n# download repository\ngit clone https://github.com/yourusername/ManualFontInstaller.git\ncd ManualFontInstaller\n\n# Run script\n./install_fonts.sh",
    "crumbs": [
      "ãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ–ã®20 Rules",
      "<span class='chapter-number'>1</span>Â  <span class='chapter-title'>Meiryo fontã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—</span>"
    ]
  },
  {
    "objectID": "posts/eda-setup/font-setup.html#meiryoãƒ•ã‚©ãƒ³ãƒˆã‚’ç”¨ã„ãŸå¯è¦–åŒ–",
    "href": "posts/eda-setup/font-setup.html#meiryoãƒ•ã‚©ãƒ³ãƒˆã‚’ç”¨ã„ãŸå¯è¦–åŒ–",
    "title": "1Â  Meiryo fontã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—",
    "section": "Meiryoãƒ•ã‚©ãƒ³ãƒˆã‚’ç”¨ã„ãŸå¯è¦–åŒ–",
    "text": "Meiryoãƒ•ã‚©ãƒ³ãƒˆã‚’ç”¨ã„ãŸå¯è¦–åŒ–\n\nPlotly\nimport plotly.express as px\n\nfig = px.scatter(x=[1, 2, 3], y=[4, 5, 6], title=\"ã‚µãƒ³ãƒ—ãƒ«ã‚°ãƒ©ãƒ•\")\n\n# Xè»¸ãƒ©ãƒ™ãƒ«ã®è¿½åŠ \nfig.update_layout(\n    xaxis_title=\"æ™‚é–“ï¼ˆç§’ï¼‰\",  # â† ã“ã“ãŒXè»¸ãƒ©ãƒ™ãƒ«\n    font=dict(family=\"Meiryo\")\n)\n\nfig.show()\n\n\nMatplotlib\nimport matplotlib.pyplot as plt\n\nplt.rcParams[\"font.family\"] = \"Meiryo\"\n\nx = [1, 2, 3]\ny = [4, 5, 6]\n\nplt.plot(x, y, marker=\"o\")\nplt.title(\"ã‚µãƒ³ãƒ—ãƒ«ã‚°ãƒ©ãƒ•\")\nplt.xlabel(\"æ™‚é–“ï¼ˆç§’ï¼‰\")  # â† ã“ã“ãŒXè»¸ãƒ©ãƒ™ãƒ«\nplt.ylabel(\"å€¤\")\n\nplt.show()",
    "crumbs": [
      "ãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ–ã®20 Rules",
      "<span class='chapter-number'>1</span>Â  <span class='chapter-title'>Meiryo fontã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—</span>"
    ]
  },
  {
    "objectID": "posts/eda-setup/font-setup.html#sources",
    "href": "posts/eda-setup/font-setup.html#sources",
    "title": "1Â  Meiryo fontã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—",
    "section": "Sources",
    "text": "Sources\n\nRyoNakagami &gt; ManualFontInstaller",
    "crumbs": [
      "ãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ–ã®20 Rules",
      "<span class='chapter-number'>1</span>Â  <span class='chapter-title'>Meiryo fontã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—</span>"
    ]
  },
  {
    "objectID": "posts/visualization-components/chapter-header.html",
    "href": "posts/visualization-components/chapter-header.html",
    "title": "å¯è¦–åŒ–ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®Components",
    "section": "",
    "text": "å¯è¦–åŒ–ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨å¯è¦–åŒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ\nå¯è¦–åŒ–ã¯å˜ãªã‚‹ã€Œã‚°ãƒ©ãƒ•ã€ã‚„ã€Œå›³ã€ã§ã¯ãªãï¼Œ\nã¨ã„ã£ãŸæ§˜ã€…ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çµ„ã¿åˆã‚ã›ã«ã‚ˆã£ã¦æˆã‚Šç«‹ã£ã¦ã„ã¾ã™ï¼ã¾ãŸï¼Œç†è§£ã—ã‚„ã™ã„å¯è¦–åŒ–ã®æ–‡è„ˆã«ãŠã„ã¦ï¼Œã“ã‚Œã‚‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ãã‚Œãã‚Œã®å½¹å‰²ã‚’æŒã£ã¦ã„ã¾ã™\nã“ã‚Œã‚‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ã¤ã„ã¦ã®é¸æŠã®ç©ã¿é‡ã­ãŒï¼Œæœ€çµ‚çš„ãªå¯è¦–åŒ–ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ±ºå®šã«ç¹‹ãŒã‚Šã¾ã™ï¼",
    "crumbs": [
      "å¯è¦–åŒ–ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®Components"
    ]
  },
  {
    "objectID": "posts/visualization-components/chapter-header.html#å¯è¦–åŒ–ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨å¯è¦–åŒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ",
    "href": "posts/visualization-components/chapter-header.html#å¯è¦–åŒ–ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨å¯è¦–åŒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ",
    "title": "å¯è¦–åŒ–ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®Components",
    "section": "",
    "text": "Axis\nLegends\nLabels\nFonts\n\n\n\n\n\n\nComponents\nå½¹å‰²\n\n\n\n\nAxis\nè»¸ç¯„å›²ã‚„å˜ä½ã€ã‚¹ã‚±ãƒ¼ãƒ«ã®æƒ…å ±ã‚’ä¼ãˆã‚‹ï¼\n\n\nLegends\nãƒ‡ãƒ¼ã‚¿ã‚°ãƒ«ãƒ¼ãƒ—ã‚„è¦ç´ ã®åˆ†é¡ã‚’ä¼ãˆã‚‹ï¼è¦–èªæ€§ã«å½±éŸ¿ï¼\n\n\nLabels\nãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆã®æƒ…å ±ã‚’ä¼ãˆã‚‹ï¼\n\n\nFonts\nå¯è¦–åŒ–å…¨ä½“ã®ãƒˆãƒ¼ãƒ³ã¨èª­ã¿ã‚„ã™ã•ã«å½±éŸ¿ï¼\n\n\n\n\n\n\n\n\n\n\n\nREMARKS\n\n\n\n\n\\[\n\\text{ãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ–} = \\text{ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ} \\times \\text{ãƒ‡ãƒ¼ã‚¿ç†è§£} \\nonumber\n\\]\n\n\nãƒ‡ãƒ¼ã‚¿ã ã‘ã§ãªãï¼Œã€Œã©ã†è¦‹ã›ã‚‹ã‹ã€ã®è¨­è¨ˆãŒå¯è¦–åŒ–ã®è³ªã‚’æ±ºã‚ã‚‹\nã€Œã©ã†è¦‹ã›ã‚‹ã‹ã€ã®è¨­è¨ˆã®é©åˆ‡ã•ã¯ï¼Œã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å½¹å‰²ã¨ä½¿ã„æ–¹ã‚’ç†è§£ã«ä¾å­˜ã™ã‚‹",
    "crumbs": [
      "å¯è¦–åŒ–ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®Components"
    ]
  },
  {
    "objectID": "posts/visualization-components/Axes.html",
    "href": "posts/visualization-components/Axes.html",
    "title": "2Â  Axes",
    "section": "",
    "text": "Axesã¨ã¯ï¼Ÿ",
    "crumbs": [
      "å¯è¦–åŒ–ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®Components",
      "<span class='chapter-number'>2</span>Â  <span class='chapter-title'>Axes</span>"
    ]
  },
  {
    "objectID": "posts/visualization-components/Axes.html#axesã¨ã¯",
    "href": "posts/visualization-components/Axes.html#axesã¨ã¯",
    "title": "2Â  Axes",
    "section": "",
    "text": "Definition 2.1 Axes\n\nAxesã¨ã¯ï¼Œå¯è¦–åŒ–ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå†…ã®ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆã¨æ•°å€¤çš„ãªæ„å‘³ã‚’çµã³ã¤ã‘ã‚‹ãŸã‚ã®å‚ç…§è»¸ã®ã“ã¨\nAxesãŒã‚ã‚‹ã“ã¨ã§ï¼Œã€Œã“ã®ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆã¯ä½•ã®å€¤ã‚’è¡¨ã—ã¦ã„ã‚‹ã‹ã€ã€Œä»–ã®ãƒã‚¤ãƒ³ãƒˆã¨æ¯”ã¹ã¦ã©ã‚Œãã‚‰ã„å¤§ãã„ã‹/å°ã•ã„ã‹ã€ã¨ã„ã£ãŸæƒ…å ±ã‚’èª­ã¿å–ã‚‹ã“ã¨ãŒã§ãã‚‹\n\n\n\nAxes Title\n\n\n\n\n\n\nRules\n\n\n\n\nç›®ç››ï¼ˆtick marksï¼‰ã®å˜ä½ã‚’ç¤ºã™ã“ã¨\n\n\n\nä¸‹è¨˜ã®ä¾‹ã§ã¯ï¼ŒBad Exampleã®y-axisã§ã¯ã€Œå¹³å‡æ°—æ¸©ã€ã®å˜ä½ãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã›ã‚“ï¼æ—¥æœ¬ã§ã¯ä¸€èˆ¬çš„ã«ï¼Œæ‘‚æ°ãŒã‚‚ã—ã„ã‚‰ã‚Œã‚‹ã®ã§å˜ä½ãŒãªãã¦ã‚‚ç†è§£ã§ãã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒï¼Œã€Œâ„ƒã€ã‚’y-axisã«ä»˜ä¸ã—ã¦ç›®ç››ã‚Šã®æ„å‘³ã®è§£é‡ˆã‚’å®¹æ˜“ã«ã™ã‚‹ã“ã¨ãŒèª­ã¿æ‰‹ã«å¯¾ã™ã‚‹é…æ…®ã¨ãªã‚Šã¾ã™ï¼\n\nCode\nimport pandas as pd\n\n# ----------------------------\n## æ°—è±¡ãƒ‡ãƒ¼ã‚¿data preprocess\n# ----------------------------\n\n\ndef join_multilevel_col(col):\n    level0, level1, level2 = col\n    if \"Unnamed:\" in level2:\n        level2 = \"\"\n    if level2:\n        return (level0, f\"{level1}_{level2}\")\n    else:\n        return (level0, level1)\n\n\n# CSVèª­ã¿è¾¼ã¿ï¼ˆ3è¡Œãƒ˜ãƒƒãƒ€ãƒ¼ï¼‰\ndf = pd.read_csv(\"../data/monthly-average-temp-2024.csv\", header=[0, 1, 2])\n\n# 'å¹´æœˆ'ã®ã‚«ãƒ©ãƒ åã‚¿ãƒ—ãƒ«ãŒä»¥ä¸‹ã®ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹å‰æ\nidx_col = (\"Unnamed: 0_level_0\", \"å¹´æœˆ\", \"Unnamed: 0_level_2\")\n\n# ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã«è¨­å®š\ndf.set_index(idx_col, inplace=True)\n\n# ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹åã‚’ã‚ã‹ã‚Šã‚„ã™ãå¤‰æ›´ï¼ˆä»»æ„ï¼‰\ndf.index.name = \"å¹´æœˆ\"\ndf.columns = pd.Index([join_multilevel_col(col) for col in df.columns])\ndf = df.stack(level=0, future_stack=True).reset_index()\n\nrename_dict = {\n    \"å¹´æœˆ\": \"YearMonth\",\n    \"level_1\": \"City\",\n    \"å¹³å‡æ°—æ¸©(â„ƒ)\": \"average_temp\",\n    \"å¹³å‡æ°—æ¸©(â„ƒ)_å“è³ªæƒ…å ±\": \"average_temp_QualityInfo\",\n    \"å¹³å‡æ°—æ¸©(â„ƒ)_å‡è³ªç•ªå·\": \"average_temp_KinshitsuNumber\",\n    \"é™æ°´é‡ã®åˆè¨ˆ(mm)\": \"total_precipitation_mm\",\n    \"é™æ°´é‡ã®åˆè¨ˆ(mm)_å“è³ªæƒ…å ±\": \"total_precipitation_mm_QualityInfo\",\n    \"é™æ°´é‡ã®åˆè¨ˆ(mm)_å‡è³ªç•ªå·\": \"total_precipitation_mm_KinshitsuNumber\",\n    \"é™æ°´é‡ã®åˆè¨ˆ(mm)_ç¾è±¡ãªã—æƒ…å ±\": \"total_precipitation_mm_NoPhenomenonInfo\",\n}\n\ndf = df.rename(columns=rename_dict)\n\n# data type\ndf[\"YearMonth\"] = pd.to_datetime(df[\"YearMonth\"], format=\"%Y/%m\")\n\n# ----------------------------\n## plot\n# ----------------------------\nimport plotly.express as px\n\nokabe_ito_palette = [\n    \"#E69F00\",  # orange\n    \"#56B4E9\",  # sky blue\n    \"#009E73\",  # bluish green\n    \"#F0E442\",  # yellow\n    \"#0072B2\",  # blue\n    \"#D55E00\",  # vermillion\n    \"#CC79A7\",  # reddish purple\n    \"#000000\",  # black\n]\n\n# 1. sort\ncity_order = (\n    df.groupby(\"City\")[\"average_temp\"].max().sort_values(ascending=False).index.tolist()\n)\n\n# 2. Set categorical order for 'City'\ndf[\"City\"] = pd.Categorical(df[\"City\"], categories=city_order, ordered=True)\n\ndf = df.sort_values(by=[\"City\", \"YearMonth\"]).reset_index(drop=True)\n\n# ----------------------------\n## Bad Example\n# ----------------------------\nfig = px.line(\n    df,\n    x=\"YearMonth\",\n    y=\"average_temp\",\n    color=\"City\",\n    color_discrete_sequence=okabe_ito_palette,\n    template=\"ggplot2\",\n    labels={\"City\": \"è¦³æ¸¬éƒ½å¸‚\"},\n)\n\n# Change axis titles\nfig.update_layout(\n    title=dict(\n        text=\"æœˆåˆ¥å¹³å‡æ°—æ¸©ã®æ¨ç§»ï¼ˆéƒ½å¸‚åˆ¥ï¼‰ - Bad Example\",\n        x=0.075,\n        xanchor=\"left\",\n        y=0.95,\n        yanchor=\"top\",\n        font=dict(size=20),\n    ),\n    margin=dict(t=80),\n    xaxis_title=\"å¹´æœˆ\",\n    yaxis_title=\"å¹³å‡æ°—æ¸©\",\n    xaxis=dict(tickformat=\"%Y-%m\"),\n    width=640,  # (px)\n    height=400,\n    legend=dict(\n        orientation=\"h\",  # horizontal layout\n        yanchor=\"bottom\",\n        y=1.02,  # slightly above the plot\n        xanchor=\"center\",\n        x=0.5,  # center-align\n    ),\n)\n\n\nfig.show()\n\n\n# ----------------------------\n## Better Example\n# ----------------------------\nfig = px.line(\n    df,\n    x=\"YearMonth\",\n    y=\"average_temp\",\n    color=\"City\",\n    color_discrete_sequence=okabe_ito_palette,\n    template=\"ggplot2\",\n    labels={\"City\": \"è¦³æ¸¬éƒ½å¸‚\"},\n)\n\n# Change axis titles\nfig.update_layout(\n    title=dict(\n        text=\"æœˆåˆ¥å¹³å‡æ°—æ¸©ã®æ¨ç§»ï¼ˆéƒ½å¸‚åˆ¥ï¼‰ - Better Example\",\n        x=0.075,\n        xanchor=\"left\",\n        y=0.95,\n        yanchor=\"top\",\n        font=dict(size=20),\n    ),\n    margin=dict(t=80, b=40),\n    xaxis_title=\"å¹´æœˆ\",\n    yaxis_title=\"å¹³å‡æ°—æ¸© [Â°C]\",\n    xaxis=dict(tickformat=\"%Y-%m\"),\n    width=640,  # (px)\n    height=400,\n    legend=dict(\n        orientation=\"h\",  # horizontal layout\n        yanchor=\"bottom\",\n        y=1.02,  # slightly above the plot\n        xanchor=\"center\",\n        x=0.5,  # center-align\n    ),\n)\n\nfig.add_annotation(\n    text=\"&lt;a href='https://www.data.jma.go.jp/risk/obsdl/index.php' target='_blank' style='color:gray;'&gt;å‡ºæ‰€: æ°—è±¡åº &gt; éå»ã®æ°—è±¡ãƒ‡ãƒ¼ã‚¿ã‚ˆã‚Šä½œæˆ&lt;/a&gt;\",\n    xref=\"paper\",\n    yref=\"paper\",\n    x=0,\n    y=-0.2,\n    showarrow=False,\n    font=dict(size=12),\n    align=\"left\"\n)\n\n\nfig.show()\n\n\n\n\n                                                \n\n\n\n\n                                                \n\n\n\n\n\nTick Marks(ç›®ç››ã‚Š)\n\n\n\n\n\n\nRules\n\n\n\n\nè»¸ä¸Šã«è¦ç´ ã®ãƒ©ãƒ™ãƒ«ã‚„ç›®ç››ã‚Šã‚’éå‰°ã«é…ç½®ã—ãªã„\nãƒ©ãƒ™ãƒ«ä»˜ãã®ç›®ç››ã‚Šã®é–“éš”ãŒå¸¸ã«ä¸€å®šã¨ãªã‚‹ã‚ˆã†ã«ã™ã‚‹\n\n\n\né©åˆ‡ãªç›®ç››ã‚Šãƒ©ãƒ™ãƒ«ã®é–“éš”ã¯ï¼Œå¯è¦–åŒ–ã§ä¼ãˆãŸã„ã‚¹ãƒˆãƒ¼ãƒªãƒ¼/ã‚­ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«ä¾å­˜ã™ã‚‹ã®ã§ã‚±ãƒ¼ã‚¹ãƒã‚¤ã‚±ãƒ¼ã‚¹ã§åˆ¤æ–­ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼ä»¥ä¸‹ã®ä¾‹ã¯ï¼ŒGoogleã® æ ªä¾¡ã®é•·æœŸçš„ãªãƒˆãƒ¬ãƒ³ãƒ‰ã‚’ç¤ºã—ãŸæ™‚ç³»åˆ—plotã‚’ç”¨ã„ã¦ï¼Œè»¸ãƒ©ãƒ™ãƒ«é–“éš”ã®é•ã„ã«ã‚ˆã‚‹å¯è¦–æ€§ã¸ã®å½±éŸ¿ã‚’æ¯”è¼ƒã—ã¦ã„ã¾ã™ï¼ã“ã®å¯è¦–åŒ–ã®ç›®çš„ã‚’\n\né•·æœŸçš„ãªãƒˆãƒ¬ãƒ³ãƒ‰ã‚„å¤§ã¾ã‹ãªå‹•ãã‚’ç¤ºã—ãŸã„\nå››åŠæœŸãƒ™ãƒ¼ã‚¹ã§ã®å‘¨æœŸæ€§ã‚’ç¤ºã—ãŸã„\n\nã¨ã™ã‚‹ã¨ï¼ŒBad Exampleã®ã‚ˆã†ãªã€Œæœˆæ¬¡ã€ç›®ç››ã‚Šã¯ï¼Œä¸å¿…è¦ã«ãƒ©ãƒ™ãƒ«ãŒæ··é›‘ã—ã¦ã—ã¾ã„ï¼Œè¦–èªæ€§ãŒè½ã¡ã¦ã—ã¾ã£ã¦ã„ã¾ã™ï¼ä¸€æ–¹ï¼ŒBetter Exampleã¯ç›®ç››ã‚Šãƒ©ãƒ™ãƒ«ã‚’å››åŠæœŸã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã—ã¦ã„ã‚‹ã®ã§\n\nè¦–è¦šçš„ã«ã™ã£ãã‚Š\nå…¨ä½“ã®å‹•ãã‚„ãƒˆãƒ¬ãƒ³ãƒ‰ãŒè¦‹ã‚„ã™ããªã£ã¦ã„ã‚‹\n\nã¨ã„ã†ãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚Šã¾ã™ï¼ãŸã ã—ï¼Œå››åŠæœŸç›®ç››ã‚Šã§ã¯æœˆå˜ä½ã®è©³ç´°ãªå¤‰åŒ–ãŒçœç•¥ã•ã‚Œã‚‹ãŸã‚ï¼Œã€Œç‰¹å®šã®æœˆä¸­æ—¬ã«èµ·ããŸæ€¥é¨°ãƒ»æ€¥è½ã€ã®ã‚ˆã†ãªã‚¤ãƒ™ãƒ³ãƒˆã¯ç›®ç››ã‚Šã‹ã‚‰ã¯æŠŠæ¡ã—ã«ãããªã‚Šã¾ã™ï¼ã“ã®ã‚ˆã†ãªå ´åˆã¯ã€ŒDirect Labellingã€ã‚„ã€Œhover dataã€ãªã©ã‚’æ´»ç”¨ã™ã‚‹ã“ã¨ã§ï¼Œè¦–èªæ€§ã¨æƒ…å ±å¯†åº¦ã®ãƒãƒ©ãƒ³ã‚¹ã‚’ä¿ã¡ã¤ã¤ï¼Œãƒ¦ãƒ¼ã‚¶ãƒ¼ã®é–¢å¿ƒã«å¿œã˜ã¦è©³ç´°ã‚’æ˜ã‚Šä¸‹ã’ã‚‹ã®ãŒè‰¯ã„ã§ã™ï¼\n\n\nCode\nimport numpy as np\nimport plotly.express as px\n\ndf = px.data.stocks()\nfig = px.line(\n    df,\n    x=\"date\",\n    y=\"GOOG\",\n    color_discrete_sequence=okabe_ito_palette,\n    template=\"ggplot2\",\n)\n\n# Set x-axis to show daily ticks\nfig.update_layout(\n    title=dict(\n        text=\"Google Stock closing prices -- Bad Example\",\n        x=0.075,\n        xanchor=\"left\",\n        y=0.95,\n        yanchor=\"top\",\n        font=dict(size=20),\n    ),\n    margin=dict(t=60),\n    xaxis=dict(\n        dtick=\"M1\",  # daily ticks\n        tickformat=\"%Y-%m-%d\",  # display format\n        tickangle=45,  # optional: tilt labels for readability\n    ),\n    yaxis_title=\"Closing Price[USD]\",\n    width=720,  # (px)\n    height=450,\n    legend=dict(\n        orientation=\"h\",  # horizontal layout\n        yanchor=\"bottom\",\n        y=1.02,  # slightly above the plot\n        xanchor=\"center\",\n        x=0.5,  # center-align\n    ),\n)\n\nfig.show()\n\n\n# Extract available monthly dates (for tickvals)\nall_dates = pd.to_datetime(df[\"date\"].unique())\n\n# Extract year & month\ndf[\"month\"] = all_dates.to_period(\"M\")\nmonth_dates = pd.to_datetime(df.groupby(\"month\")[\"date\"].min().reset_index(drop=True))\n\ntick_labels = np.where(\n    month_dates.dt.month.isin([1, 4, 7, 10]),\n    month_dates.dt.to_period(\"Q\").astype(str),\n    \"\",\n)\n\nfig = px.line(\n    df,\n    x=\"date\",\n    y=\"GOOG\",\n    hover_data={\n        \"date\": False,\n        \"traded-date\": df[\"date\"].values,\n        \"GOOG\": \":.2f\",  # format to 2 decimals\n        # add other columns if needed\n    },\n    color_discrete_sequence=okabe_ito_palette,\n    template=\"ggplot2\",\n)\n\n\n# Set x-axis to show daily ticks\nfig.update_layout(\n    title=dict(\n        text=\"Google Stock closing prices -- Better Example\",\n        x=0.075,\n        xanchor=\"left\",\n        y=0.95,\n        yanchor=\"top\",\n        font=dict(size=20),\n    ),\n    margin=dict(t=60, b=80),\n    xaxis=dict(\n        dtick=\"M1\",  # monthly tick marks\n        showgrid=True,\n        tickvals=month_dates,  # show labels only quarterly\n        ticktext=tick_labels,  # what the labels say\n        tickformat=\"\",  # prevent default format override\n        tickangle=0,\n        ticks=\"outside\",  # show tick marks\n    ),\n    xaxis_title=\"å–å¼•æ—¥\",\n    yaxis_title=\"Closing Price[USD]\",\n    width=720,  # (px)\n    height=450,\n    legend=dict(\n        orientation=\"h\",  # horizontal layout\n        yanchor=\"bottom\",\n        y=1.02,  # slightly above the plot\n        xanchor=\"center\",\n        x=0.5,  # center-align\n    ),\n)\n\n# Use hovertemplate for formatting and hiding 'date' column\nfig.update_traces(\n    hovertemplate=(\n        \"å–å¼•æ—¥: %{customdata[0]}&lt;br&gt;\" + \"GOOG: %{y:.2f}&lt;br&gt;\" + \"&lt;extra&gt;&lt;/extra&gt;\"\n    )\n)\n\n# ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆä¸‹éƒ¨ã«ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹æ³¨é‡ˆã‚’è¿½åŠ \nfig.add_annotation(\n    text=\"Data source: Yahoo Finance (via plotly.data.stocks)\",\n    xref=\"paper\",\n    yref=\"paper\",\n    x=0,\n    y=-0.2,  # x=0: å·¦å¯„ã›, y=-0.15: ã‚°ãƒ©ãƒ•ã®ä¸‹\n    showarrow=False,\n    font=dict(size=12, color=\"gray\"),\n    align=\"left\",\n)\n\n\nfig.show()",
    "crumbs": [
      "å¯è¦–åŒ–ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®Components",
      "<span class='chapter-number'>2</span>Â  <span class='chapter-title'>Axes</span>"
    ]
  },
  {
    "objectID": "posts/visualization-components/legends.html",
    "href": "posts/visualization-components/legends.html",
    "title": "3Â  Legends(å‡¡ä¾‹)",
    "section": "",
    "text": "Legendsã¨ã¯ï¼Ÿ",
    "crumbs": [
      "å¯è¦–åŒ–ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®Components",
      "<span class='chapter-number'>3</span>Â  <span class='chapter-title'>Legends(å‡¡ä¾‹)</span>"
    ]
  },
  {
    "objectID": "posts/visualization-components/legends.html#legendsã¨ã¯",
    "href": "posts/visualization-components/legends.html#legendsã¨ã¯",
    "title": "3Â  Legends(å‡¡ä¾‹)",
    "section": "",
    "text": "Definition 3.1 Legends\n\nå¯è¦–åŒ–è¦ç´ ã®æ„å‘³ã‚’ç¤ºã™ãŸã‚ã«ç”¨ã„ã‚‰ã‚Œã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ\nLabelsã¨ç•°ãªã‚Šï¼Œå›³ã®å¤–å´ã«ã¾ã¨ã‚ã¦è¡¨ç¤ºã•ã‚Œã‚‹\nLegendsé …ç›®ã‚’ç¤ºã™ãƒãƒ¼ã‚«ãƒ¼ã¨å¯¾å¿œã™ã‚‹ãƒ©ãƒ™ãƒ«ã®ã‚»ãƒƒãƒˆã«ã‚ˆã£ã¦æ§‹æˆã•ã‚Œã‚‹\n\n\n\nå‡¡ä¾‹ã®ä½ç½®\n\n\nå‡¡ä¾‹ã®é †ç•ª\n\n\n\n\n\n\nRules\n\n\n\n\nSequential dataã«ã¤ã„ã¦ã®Legendsã¯å¿…ãšé™é †(higest to lowest)ã«ã™ã‚‹ã“ã¨\ncategorical classã«ã¤ã„ã¦ã‚‚å¯è¦–åŒ–ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç›®ç·šã®é †ç•ªã¨æ•´åˆçš„ãªè¡¨ç¤ºé †ç•ªã«ã™ã‚‹ã“ã¨\n\n\n\ncategorical classã«ãŠã‘ã‚‹å‡¡ä¾‹ã®é †ç•ª\n\nCode\nimport yfinance as yf\nimport matplotlib.pyplot as plt\nimport pandas as pd\n\n# okabe_ito_colorsã®å–å¾—\nokabe_ito_colors = [\n    \"#000000\", \"#E69F00\", \"#56B4E9\", \"#009E73\",\n    \"#F0E442\", \"#0072B2\", \"#D55E00\", \"#CC79A7\"\n]\n\n# éŠ˜æŸ„ã®ã‚·ãƒ³ãƒœãƒ«ï¼ˆãƒ†ã‚£ãƒƒã‚«ãƒ¼ï¼‰\nsymbols = {\"Meta\": \"META\", \"Alphabet\": \"GOOGL\", \"Microsoft\": \"MSFT\", \"Apple\": \"AAPL\"}\n\n# æœŸé–“è¨­å®š\nstart_date = \"2020-01-01\"\nend_date = \"2024-01-01\"\n\n# --------------------------------------------------------\n# Bad plot\n# --------------------------------------------------------\n# æ ªä¾¡ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã¨ãƒ—ãƒ­ãƒƒãƒˆ\nplt.figure(figsize=(12, 8))\n\n# (index, (key, value))å½¢å¼\nfor c_index, (name, ticker) in enumerate(symbols.items()):\n    data = yf.download(ticker, start=start_date, end=end_date, auto_adjust=True,  progress=False)\n    data = data / data.iloc[0] * 100\n    plt.plot(data[\"Close\"], label=name, color=okabe_ito_colors[c_index])\n\n# remove box\nfor spine in plt.gca().spines.values():\n    spine.set_visible(False)\n\nplt.title(\"Stock Prices (2023)\")\nplt.xlabel(\"Date\")\nplt.ylabel(\"Normalized Close Price (Base=100)\")\nplt.legend()\nplt.grid(axis='y', alpha=0.5)\nplt.tight_layout()\nplt.show()\n\n# --------------------------------------------------------\n# Better plot\n# --------------------------------------------------------\n# ç©ºã®DataFrameã‚’ç”¨æ„\ndf_all = pd.DataFrame()\n\nfor name, ticker in symbols.items():\n    # ãƒ‡ãƒ¼ã‚¿å–å¾—\n    data = yf.download(ticker, start=start_date, end=end_date, auto_adjust=True, progress=False)\n    \n    # çµ‚å€¤ã‚’æ­£è¦åŒ–ï¼ˆåˆæ—¥ã®ä¾¡æ ¼ã‚’100ã«ï¼‰\n    normalized = data['Close'] / data['Close'].iloc[0] * 100\n    \n    # åˆ—åã«éŠ˜æŸ„åã‚’è¨­å®šã—ã¦DataFrameã«æ ¼ç´\n    df_all[name] = normalized\n\n# æœ€æ–°æ—¥ã®ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã¯æ—¥ä»˜ï¼‰\nlast_day = df_all.index[-1]\n\n# æœ€æ–°æ—¥ã®å€¤ã‚’é™é †ã§ã‚½ãƒ¼ãƒˆï¼ˆå¤§ãã„é †ï¼‰\nsorted_columns = df_all.loc[last_day].sort_values(ascending=False).index\n\n# ä¸¦ã³æ›¿ãˆãŸé †ã§ãƒ—ãƒ­ãƒƒãƒˆ\nplt.figure(figsize=(12, 8))\nfor c_index, col in enumerate(sorted_columns):\n    plt.plot(df_all.index, df_all[col], label=col, color=okabe_ito_colors[c_index])\n\n# remove box\nfor spine in plt.gca().spines.values():\n    spine.set_visible(False)\n\nplt.title(\"Normalized Stock Prices(Base=100 at 2020-01)\", fontsize=22)\nplt.xlabel(\"Date\", fontsize=18)\nplt.ylabel(\"Normalized Close Price\", fontsize=18)\nplt.xticks(fontsize=14)\nplt.yticks(fontsize=16)\nplt.legend(fontsize=18, frameon=False)\nplt.grid(axis='y', alpha=0.5)\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\nBad Example: LegendãŒunsortedã®ã¾ã¾\n\n\n\n\n\n\n\n\n\nBetter Example: LegendãŒsortedã•ã‚Œã¦ã„ã‚‹\n\n\n\n\n\n\n\nå‡¡ä¾‹ã¨ã‚·ãƒ³ãƒœãƒ«\n\n\n\n\n\n\nRules\n\n\n\n\nè‰²ã ã‘ã§ãªãã¦ã‚·ãƒ³ãƒœãƒ«ã¨çµ„ã¿åˆã‚ã›ã¦ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã®è­˜åˆ¥åŠ›ã‚’ä¸Šã’ã‚‹\nmarker colorã®åŒºåˆ¥ãŒé›£ã—ã„å ´åˆã¯ï¼Œè‰²ã®é †ç•ªã‚’å·¥å¤«ã™ã‚‹ã“ã¨\n\n\n\n\nCode\nimport seaborn as sns\nfrom sklearn.datasets import load_iris\nimport matplotlib.colors as mcolors\n\n# Function to lighten a hex color\ndef lighten_color(color, amount=0.5):\n    c = mcolors.to_rgb(color)\n    # linear interpolation towards white\n    lightened = [1 - amount * (1 - x) for x in c]\n    return lightened\n\n# Load iris dataset\niris = load_iris()\ndf = pd.DataFrame(iris.data, columns=iris.feature_names)\ndf['species'] = pd.Categorical.from_codes(iris.target, iris.target_names)\n\n# Okabe-Ito color palette (colorblind-friendly)\nokabe_ito = [\"#E69F00\", \"#56B4E9\", \"#009E73\"]\n\n# Set seaborn style\nsns.set(style=\"white\")\n\n# Create scatter plot\nplt.figure(figsize=(12, 8))\nsns.scatterplot(\n    data=df,\n    x='sepal length (cm)',\n    y='sepal width (cm)',\n    hue='species',\n    style='species',\n    palette=okabe_ito,\n    s=160,  # marker size\n    edgecolor='w',  # white edge to markers\n    linewidth=1,\n)\n\n# Axis labels\nplt.xlabel('sepal length')\nplt.ylabel('sepal width')\n\n# Legend style: italic labels\nleg = plt.legend()\nfor text in leg.get_texts():\n    text.set_fontstyle('italic')\n\nplt.tight_layout()\nplt.show()\n\n\n# Okabe-Ito color palette (colorblind-friendly)\nokabe_ito2 = [\"#56B4E9\", \"#E69F00\", \"#009E73\"]\n\n# Markers for species: circle, square, diamond (angled square)\nmarkers = ['o', 's', 'D']\n\n# Set seaborn style\nsns.set(style=\"whitegrid\")\n\n# Create scatter plot\nplt.figure(figsize=(12, 8))\n# Plot each species separately\nfor i, species in enumerate(df['species'].cat.categories):\n    data = df[df['species'] == species]\n    edge_col = okabe_ito2[i]\n    face_col = lighten_color(edge_col, amount=0.8)  # lighter fill\n    plt.scatter(\n        data['sepal length (cm)'],\n        data['sepal width (cm)'],\n        label=species,\n        marker=markers[i],\n        s=110,\n        edgecolor=edge_col,\n        facecolor=(*face_col, 0.5) ,\n        linewidth=0.8,\n    )\n\nplt.xlabel('sepal length', fontsize=18)\nplt.ylabel('sepal width', fontsize=18)\nplt.xticks(fontsize=14)\nplt.yticks(fontsize=16)\n\n# Legend outside plot on the right\nleg = plt.legend(\n    fontsize=16, \n    loc='center left',       # legend location relative to bbox_to_anchor\n    bbox_to_anchor=(1, 0.5), # x=1 means just outside right edge, y=0.5 is vertical center\n    borderaxespad=0.5,\n    frameon=False,\n    handlelength=3,     # longer marker in legend\n    handletextpad=0.05,  # more space between marker and text\n    labelspacing=1.2    # more vertical spacing between items\n)\n\n# remove box\nfor spine in plt.gca().spines.values():\n    spine.set_visible(False)\n\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\nDefault Cluter plot\n\n\n\n\n\n\n\n\n\nImproved Cluster plot\n\n\n\n\n\n\n\nå‡¡ä¾‹ã®ã‚¿ã‚¤ãƒˆãƒ«\n\n\n\n\n\n\nRules\n\n\n\n\nå‡¡ä¾‹ã‚¿ã‚¤ãƒˆãƒ«ã¯å¿…ãšã—ã‚‚å¿…è¦ã§ã¯ãªã„\nå«ã‚ã‚‹å ´åˆã«ã¯ï¼Œã€Œå‡¡ä¾‹ã€ã‚„ã€Œã‚­ãƒ¼ã€ã¨ã„ã£ãŸä¸€èˆ¬çš„ãªã‚¿ã‚¤ãƒˆãƒ«ã‚’ä½¿ã†ã®ã§ã¯ãªãï¼Œãƒ©ãƒ™ãƒ«ä»˜ã‘ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã®æ„å‘³ã‚’ä¼ãˆã‚‹ã‚¿ã‚¤ãƒˆãƒ«ã‚’ä½¿ã†ã“ã¨\n\n\n\n\n\nå‡¡ä¾‹ã¯æœ¬å½“ã«å¿…è¦ãªã®ã‹ï¼Ÿ\n\n\n\n\n\n\nRules\n\n\n\n\nå‡¡ä¾‹ãŒãªãã¦æ¸ˆã‚€ãªã‚‰ï¼Œå‡¡ä¾‹ã¯ç”¨ã„ãªã„ã“ã¨\næ˜ç¤ºçš„ãªå‡¡ä¾‹ãŒãªãã¦ã‚‚ï¼Œå„å¯è¦–åŒ–è¦ç´ ãŒä½•ã‚’æ„å‘³ã—ã¦ã„ã‚‹ã®ã‹ãŒä¸€ç›®ã§ã‚ã‹ã‚‹ã‚ˆã†ã«ã™ã‚‹\n\n\n\nå‡¡ä¾‹ãŒã‚ã‚‹ã¨ï¼Œå¯è¦–åŒ–ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®èª­ã¿æ‰‹ã¯ï¼Œã€Œï¼‘å›ç›®ç·šã‚’å‡¡ä¾‹ã«å‘ã‘ã¦ã‹ã‚‰ï¼Œå†ã³line plotã«ç›®ç·šã‚’å‘ã‘ã¦å„ç·šã‚’è§£é‡ˆã™ã‚‹ã€ã¨ã„ã†ãƒ¡ãƒ³ã‚¿ãƒ«ãƒ¯ãƒ¼ã‚¯ã‚’çµæœçš„ã«å¼·ã„ã‚‰ã‚Œã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ï¼å¯è¦–åŒ–ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒå‡¡ä¾‹ãªã—ã§æ¸ˆã‚€ãªã‚‰ã°ï¼Œã“ã®ã‚ˆã†ãªç†è§£ã®æ‰‹é–“ã‚’æ¸›ã‚‰ã™ã“ã¨ãŒã§ãã¾ã™ï¼\nã“ã®è¨­è¨ˆã®å®Ÿç¾æ‰‹æ®µã¨ã—ã¦ã€ŒDirect Labelingã€ãŒã‚ã‚Šã¾ã™ï¼\n\nDefinition 3.2 Direct Labeling\nå›³ã®ä¸­ã«é©åˆ‡ãªãƒ†ã‚­ã‚¹ãƒˆãƒ©ãƒ™ãƒ«ã‚„ä»–ã®è¦–è¦šçš„ã‚¬ã‚¤ãƒ‰è¦ç´ ã‚’ç›´æ¥é…ç½®ã™ã‚‹æ‰‹æ³•\n\n\n\nCode\n# ãƒ—ãƒ­ãƒƒãƒˆ\nplt.figure(figsize=(12, 8))\nfor c_index, col in enumerate(sorted_columns):\n    plt.plot(df_all.index, df_all[col], label=col, color=okabe_ito_colors[c_index])\n    \n    # direct label ã‚’æœ«å°¾ã«è¿½åŠ \n    y_pos = df_all[col].iloc[-1]\n    plt.text(df_all.index[-1], y_pos, f\" {col}\", color=\"#1A1A1A\",\n             va='center', fontsize=20)\n\n# remove box\nfor spine in plt.gca().spines.values():\n    spine.set_visible(False)\n\nplt.title(\"Normalized Stock Prices (Base=100 at 2020-01)\", fontsize=22)\nplt.xlabel(\"Date\", fontsize=18)\nplt.ylabel(\"Normalized Close Price\", fontsize=18)\nplt.xticks(fontsize=14)\nplt.yticks(fontsize=16) \nplt.grid(axis='y', alpha=0.5)\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\nDensity Plot without Legends\n\ntext label colorãŒæ˜ã‚‹ã™ãã‚‹ã¨ï¼Œãƒ©ãƒ™ãƒ«ã®èª­ã¿ã¥ã‚‰ããªã‚‹ã®ã§ï¼Œè‰²ã®å¯¾å¿œã‚’ã‚­ãƒ¼ãƒ—ã™ã‚‹ç¯„å›²å†…ã§æš—ã„è‰²ã«ã™ã‚‹\n\n\n\nCode\nfrom cmap import Colormap\nimport numpy as np\n\ndef darken_color(rgb, amount=0.7):\n    # rgb is tuple (r, g, b, a), scale RGB channels by amount (0 &lt; amount &lt; 1)\n    r, g, b, a = rgb\n    r, g, b = np.array([r, g, b]) * amount\n    return (r, g, b, a)\n\n\n# Iris ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚’ãƒ­ãƒ¼ãƒ‰\niris = load_iris()\ndf = pd.DataFrame(data=iris.data, columns=iris.feature_names)\ndf['species'] = pd.Categorical.from_codes(iris.target, iris.target_names)\n\n# ã‚«ãƒ©ãƒ¼ãƒãƒƒãƒ—ï¼ˆæ‰‹å‹•ã§ã‚»ãƒƒãƒˆï¼‰\ncm = Colormap('okabeito:okabeito')  # case insensitive\nmpl_cmap = cm.to_mpl()\ncolors = [mpl_cmap(i) for i in np.linspace(0, 1, 5)][1:]\ndarker_colors = [darken_color(c, amount=0.5) for c in colors]\n\npalette = dict(zip(df['species'].cat.categories, colors))\n\n# Set Seaborn style\nsns.set(style=\"white\")\n\n# ã‚«ãƒ¼ãƒãƒ«å¯†åº¦æ¨å®šãƒ—ãƒ­ãƒƒãƒˆ\nplt.figure(figsize=(12, 8))\nsns.kdeplot(\n    data=df,\n    x=\"sepal length (cm)\",\n    hue=\"species\",\n    fill=True,\n    common_norm=False,\n    palette=palette,\n    alpha=0.5,\n    linewidth=2.5\n)\n\n# ãƒ©ãƒ™ãƒ«ã®ã‚¹ã‚¿ã‚¤ãƒ«\nplt.text(5.2, 1.1, \"Iris setosa\", color=darker_colors[0], fontsize=18, style='italic')\nplt.text(5.5, 0.75, \"Iris versicolor\", color=darker_colors[1], fontsize=18, style='italic')\nplt.text(6.5, 0.65, \"Iris virginica\", color=darker_colors[2], fontsize=18, style='italic')\n\n# è»¸ãƒ©ãƒ™ãƒ«ã¨ä½“è£\nplt.xlabel(\"sepal length\", fontsize=18)\nplt.ylabel(\"density\", fontsize=18)\nplt.xticks(fontsize=16)\nplt.yticks(fontsize=16)\nplt.legend([],[], frameon=False)  # å‡¡ä¾‹ã‚’å‰Šé™¤\nsns.despine()  # æ ç·šã‚’å‰Šé™¤\nplt.tight_layout()\nplt.grid(axis='y', alpha=0.5)\nplt.show()",
    "crumbs": [
      "å¯è¦–åŒ–ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®Components",
      "<span class='chapter-number'>3</span>Â  <span class='chapter-title'>Legends(å‡¡ä¾‹)</span>"
    ]
  },
  {
    "objectID": "posts/1D-datavisualization/frequency-counts-of-data-with-bar-plot.html",
    "href": "posts/1D-datavisualization/frequency-counts-of-data-with-bar-plot.html",
    "title": "4Â  è³ªçš„ãƒ‡ãƒ¼ã‚¿ã®å‡ºç¾é »åº¦",
    "section": "",
    "text": "å•é¡Œè¨­å®š\nä»¥ä¸‹ã®ã‚ˆã†ãªã‚«ãƒ†ã‚´ãƒªåˆ¥å‡ºç¾é »åº¦ã®ãƒ‡ãƒ¼ã‚¿ãŒä¸ãˆã‚‰ã‚ŒãŸã¨ã—ã¾ã™ï¼\nCode\nimport pandas as pd\n\n\ndata = {\n    \"faulty_component\": [\n        \"ãƒãƒ¼ãƒ‰ãƒ‡ã‚£ã‚¹ã‚¯\", \"ãƒãƒ¼ãƒ‰ãƒ‡ã‚£ã‚¹ã‚¯\",\n        \"ãƒ¡ãƒ¢ãƒª\", \"ãƒ¡ãƒ¢ãƒª\",\n        \"é›»æºãƒ¦ãƒ‹ãƒƒãƒˆ\", \"é›»æºãƒ¦ãƒ‹ãƒƒãƒˆ\",\n        \"ãƒ•ã‚¡ãƒ³\", \"ãƒã‚¶ãƒ¼ãƒœãƒ¼ãƒ‰\",\n        \"æ¶²æ™¶ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤\", \"æ¶²æ™¶ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤\",\n        \"ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢\", \"ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢\"\n    ],\n    \"faulty_category\": [\n        \"æ¥ç¶šä¸è‰¯\", \"ç•°éŸ³\",\n        \"èµ·å‹•ä¸è‰¯\", \"ãƒ–ãƒ«ãƒ¼ã‚¹ã‚¯ãƒªãƒ¼ãƒ³\",\n        \"é›»æºä¸å®‰å®š\", \"é›»æºä¸è‰¯\",\n        \"ç•°éŸ³\", \"æ¥ç¶šä¸è‰¯\",\n        \"ç”»é¢ä¸èªè­˜\", \"è¡¨ç¤ºãƒˆãƒ©ãƒ–ãƒ«\",\n        \"èµ·å‹•æ™‚ã‚¨ãƒ©ãƒ¼\", \"ã‚¢ãƒ—ãƒªå¼·åˆ¶çµ‚äº†\"\n    ],\n    \"count\": [125, 87, 73, 52, 64, 91, 40, 38, 70, 33, 49, 58]\n}\n\ndf = pd.DataFrame(data)\ndf\n\n\n\n\n\n\n\n\n\nfaulty_component\nfaulty_category\ncount\n\n\n\n\n0\nãƒãƒ¼ãƒ‰ãƒ‡ã‚£ã‚¹ã‚¯\næ¥ç¶šä¸è‰¯\n125\n\n\n1\nãƒãƒ¼ãƒ‰ãƒ‡ã‚£ã‚¹ã‚¯\nç•°éŸ³\n87\n\n\n2\nãƒ¡ãƒ¢ãƒª\nèµ·å‹•ä¸è‰¯\n73\n\n\n3\nãƒ¡ãƒ¢ãƒª\nãƒ–ãƒ«ãƒ¼ã‚¹ã‚¯ãƒªãƒ¼ãƒ³\n52\n\n\n4\né›»æºãƒ¦ãƒ‹ãƒƒãƒˆ\né›»æºä¸å®‰å®š\n64\n\n\n5\né›»æºãƒ¦ãƒ‹ãƒƒãƒˆ\né›»æºä¸è‰¯\n91\n\n\n6\nãƒ•ã‚¡ãƒ³\nç•°éŸ³\n40\n\n\n7\nãƒã‚¶ãƒ¼ãƒœãƒ¼ãƒ‰\næ¥ç¶šä¸è‰¯\n38\n\n\n8\næ¶²æ™¶ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤\nç”»é¢ä¸èªè­˜\n70\n\n\n9\næ¶²æ™¶ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤\nè¡¨ç¤ºãƒˆãƒ©ãƒ–ãƒ«\n33\n\n\n10\nã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢\nèµ·å‹•æ™‚ã‚¨ãƒ©ãƒ¼\n49\n\n\n11\nã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢\nã‚¢ãƒ—ãƒªå¼·åˆ¶çµ‚äº†\n58",
    "crumbs": [
      "1æ¬¡å…ƒãƒ‡ãƒ¼ã‚¿",
      "<span class='chapter-number'>4</span>Â  <span class='chapter-title'>è³ªçš„ãƒ‡ãƒ¼ã‚¿ã®å‡ºç¾é »åº¦</span>"
    ]
  },
  {
    "objectID": "posts/1D-datavisualization/frequency-counts-of-data-with-bar-plot.html#å•é¡Œè¨­å®š",
    "href": "posts/1D-datavisualization/frequency-counts-of-data-with-bar-plot.html#å•é¡Œè¨­å®š",
    "title": "4Â  è³ªçš„ãƒ‡ãƒ¼ã‚¿ã®å‡ºç¾é »åº¦",
    "section": "",
    "text": "faulty_component: æ•…éšœç®‡æ‰€\nfaulty_category: æ•…éšœå†…å®¹ã«å¿œã˜ãŸåˆ†é¡\ncount: å‡ºç¾é »åº¦\n\n\n\nå¯è¦–åŒ–æ–¹é‡\n\n\n\n\n\n\nè¦ä»¶\n\n\n\n\n\nè¤‡æ•°ã‚«ãƒ†ã‚´ãƒªå¤‰æ•°ã‚’çµåˆã—ã¦ç”Ÿæˆã—ãŸãƒ©ãƒ™ãƒ«å¤‰æ•°ã‚’keyï¼Œå‡ºç¾é »åº¦ã‚’valueã¨ã—ãŸãƒ‡ãƒ¼ã‚¿ã«ã¤ã„ã¦ï¼Œå‡ºç¾é »åº¦ã‚’bar plot, ç´¯ç©é »åº¦ã‚’line plotã¨ã—ã¦å¯è¦–åŒ–\n2ã¤ã®ã‚«ãƒ†ã‚´ãƒªæ¬¡å…ƒã«ã‚ãŸã‚‹å€¤ã®é »åº¦åˆ†å¸ƒã‚’heatmapã‚’ç”¨ã„ã¦å¯è¦–åŒ–\n\n\n\n\nä»¥ä¸Šã®ï¼’ã¤ã‚’å¯è¦–åŒ–å®Ÿè£…ã‚’å–ã‚Šæ‰±ã„ã¾ã™ãŒï¼Œå®Ÿè£…èª¬æ˜ã®å‰ã«EDAã¨ã—ã¦ã©ã®ã‚ˆã†ãªstory-tellingãŒè€ƒãˆã‚‰ã‚Œã‚‹ã‹ç´¹ä»‹ã—ã¾ã™ï¼\n\n\n\n\n\n\n\nãƒ‘ãƒ¬ãƒ¼ãƒˆå›³åˆ†æsummaryä¾‹\n\n\n\n\n\n\nExample 4.1 \n\n\n\n\n\n\n\nåˆ†æãƒ†ãƒ¼ãƒ\nç„¡æ•°ã«ã‚ã‚‹ã‚ˆã†ã«è¦‹ãˆã‚‹æ•…éšœã®ã†ã¡ï¼Œå®Ÿéš›ã«å¯¾å¿œã™ã¹ãã¯ã”ãä¸€éƒ¨ã®ä»£è¡¨çš„ãªãƒ‘ã‚¿ãƒ¼ãƒ³ãªã®ã§ã¯ãªã„ã‹ï¼Ÿ\n\n\nå¯è¦–åŒ–è§£é‡ˆ\nã‚«ãƒ†ã‚´ãƒªçµ„ã¿åˆã‚ã›ã¯ç„¡æ•°ã«ã‚ã‚‹ãŒï¼ŒTop 10ã ã‘ã§ã‚‚ç•°å¸¸ç™ºç”Ÿä»¶æ•°å…¨ä½“ã® 80%ã‚’ã—ã‚ã¦ãŠã‚Šï¼ŒTop 10ã®ã¿ã«é›†ä¸­ã—ã¦ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ã¨ã‚‹ã¹ã\n\n\nã‚¤ãƒ³ã‚µã‚¤ãƒˆ\nãƒªã‚½ãƒ¼ã‚¹ã‚’åºƒãåˆ†æ•£ã™ã‚‹ã®ã§ã¯ãªãï¼Œã€Œãƒ•ã‚¡ãƒ³-å‹•ä½œä¸è‰¯ã€ã€ŒHDD-èªè­˜ä¸èƒ½ã€ãªã©ï¼Œé »åº¦ã®é«˜ã„ã‚«ãƒ†ã‚´ãƒªã«çµã£ã¦æ”¹å–„ç­–ãƒ»å“è³ªå¯¾ç­–ãƒ»éƒ¨å“è¦‹ç›´ã—ãƒ»è£½é€ å·¥ç¨‹ãƒã‚§ãƒƒã‚¯ã‚’è¡Œã†ã“ã¨ãŒï¼Œæœ€ã‚‚ã‚³ã‚¹ãƒˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®é«˜ã„æ”¹å–„ã«ãªã‚‹\n\n\n\n\n\n\nExample 4.2 \n\n\n\n\n\n\n\nåˆ†æãƒ†ãƒ¼ãƒ\næ•…éšœã‚«ãƒ†ã‚´ãƒªã®å•é¡ŒãŒã‚ã‚‹ãŸã‚æ•…éšœé »åº¦åˆ†å¸ƒã¯è£¾ã®åšã„åˆ†å¸ƒæ‹…ã£ã¦ã„ã‚‹ã®ã§ã¯ãªã„ã‹ï¼Ÿ\n\n\nå¯è¦–åŒ–è§£é‡ˆ\nã‚«ãƒ†ã‚´ãƒªçµ„ã¿åˆã‚ã›Top 10ã«çµã£ã¦ã‚‚ç´¯ç©æ•…éšœå‰²åˆã¯å…¨ä½“ã®40%ã‚’å ã‚ã‚‹ã«ã¨ã©ã¾ã£ã¦ãŠã‚Šï¼Œæ•…éšœã‚«ãƒ†ã‚´ãƒªã¯è£¾ã®åšã„(fat-tailed)åˆ†å¸ƒã¨è¦‹ãˆã‚‹ï¼æ•…éšœã‚«ãƒ†ã‚´ãƒªåˆ†é¡ã«ã¤ã„ã¦ä¸€éƒ¨ç²’åº¦ãŒç´°ã‹ã™ãã‚‹ãŸã‚è£¾ãŒåšããªã£ã¦ã—ã¾ã£ãŸã¨ä»®èª¬ç«‹ã¦ï¼Œè£œä¿®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®è¦³ç‚¹ã‚’è¸ã¾ãˆã¦ã‚«ãƒ†ã‚´ãƒªã‚’å†å®šç¾©ã—ãŸä¸Šã§é›†è¨ˆã—ç›´ã—ãŸã¨ã“ã‚ï¼ŒTop10ã‚«ãƒ†ã‚´ãƒªã§å…¨ä½“ã®ç´„75%ã‚’ã‚«ãƒãƒ¼ã™ã‚‹æ§‹é€ ãŒæµ®ã‹ã³ä¸ŠãŒã£ãŸï¼(=fat-tailed åˆ†å¸ƒã®è¦‹ãˆæ–¹ã¯ï¼Œåˆ†é¡è¨­è¨ˆãã®ã‚‚ã®ã®æ­ªã¿ã‚’ç¤ºã—ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹)\n\n\nã‚¤ãƒ³ã‚µã‚¤ãƒˆ\næ•…éšœãƒ­ã‚°ã®åˆ†é¡è¨­è¨ˆã«ã¯ï¼Œå®Ÿéš›ã®ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚„å¯¾å¿œãƒ•ãƒ­ãƒ¼ã¨ã®æ•´åˆæ€§ã‚’æŒãŸã›ã‚‹ã“ã¨ãŒé‡è¦å†å®šç¾©ã—ãŸã‚«ãƒ†ã‚´ãƒªã‚’æ¨™æº–åˆ†é¡ã¨ã—ï¼Œç¶™ç¶šçš„ãªåˆ†æã«æ´»ç”¨ã§ãã‚‹ã‚ˆã†è¨­è¨ˆã‚’æ•´å‚™ã™ã‚‹å¿…è¦æ€§ã‚ã‚Š\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nheatmapåˆ†æsummaryä¾‹\n\n\n\n\n\n\nExample 4.3 \n\n\n\n\n\n\n\nåˆ†æãƒ†ãƒ¼ãƒ\næ•…éšœç®‡æ‰€ Ã— æ•…éšœå†…å®¹ã®çµ„ã¿åˆã‚ã›é »åº¦ã«åã‚ŠãŒå­˜åœ¨ã™ã‚‹ã‹ã‚’ç¢ºèªã—ï¼Œé‡ç‚¹å¯¾å¿œã™ã¹ãã‚«ãƒ†ã‚´ãƒªã‚’ç‰¹å®šã™ã‚‹\n\n\nå¯è¦–åŒ–è§£é‡ˆ\næ•…éšœç®‡æ‰€ã¨æ•…éšœå†…å®¹ã®çµ„ã¿åˆã‚ã›ã‚’2è»¸ã«ã¨ã£ãŸãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—ã‚’ä½œæˆã—ãŸã¨ã“ã‚ï¼Œç‰¹å®šã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã«ä»¶æ•°ãŒæ¥µç«¯ã«é›†ä¸­ã—ã¦ã„ã‚‹æ§‹é€ ãŒæ˜ã‚‰ã‹ã«ãªã£ãŸãŸã¨ãˆã°ï¼Œã€ŒHDD Ã— èªè­˜ä¸èƒ½ã€ã‚„ã€Œãƒ•ã‚¡ãƒ³ Ã— å‹•ä½œä¸è‰¯ã€ã¨ã„ã£ãŸä¸€éƒ¨ã®çµ„ã¿åˆã‚ã›ã‚»ãƒ«ãŒå¼·èª¿ã•ã‚Œï¼Œãã®ä»–å¤šãã®ã‚»ãƒ«ãŒæ¥µç«¯ã«ä»¶æ•°ã®å°‘ãªã„çŠ¶æ…‹ã§ã‚ã‚‹ã“ã¨ã‹ã‚‰ï¼Œæ•…éšœãƒ‘ã‚¿ãƒ¼ãƒ³ãŒé™å®šçš„ã§ã‚ã‚‹ã“ã¨ãŒè¦–è¦šçš„ã«ç¤ºã•ã‚ŒãŸ\n\n\nã‚¤ãƒ³ã‚µã‚¤ãƒˆ\næ•…éšœã¯ä¸€è¦‹ãƒãƒ©ãƒãƒ©ã«ç™ºç”Ÿã—ã¦ã„ã‚‹ã‚ˆã†ã§ã„ã¦ï¼Œå®Ÿéš›ã«ã¯é™ã‚‰ã‚ŒãŸæ•°ã®å…¸å‹çš„ãƒ‘ã‚¿ãƒ¼ãƒ³ã«é›†ä¸­çš„ã«ç™ºç”Ÿã—ã¦ã„ã‚‹\n\n\n\n\n\n\nExample 4.4 \n\n\n\n\n\n\n\nåˆ†æãƒ†ãƒ¼ãƒ\næ•…éšœç®‡æ‰€ Ã— æ•…éšœå†…å®¹ã®çµ„ã¿åˆã‚ã›ã®ä¸­ã§ï¼Œä¸€è¦‹ç›®ç«‹ãŸãªã„ãŒç›¸å¯¾çš„ã«ç•°å¸¸é »åº¦ãŒé«˜ã„â€œéš ã‚Œãƒ›ãƒƒãƒˆã‚¹ãƒãƒƒãƒˆâ€ã‚’å¯è¦–åŒ–ã™ã‚‹\n\n\nå¯è¦–åŒ–è§£é‡ˆ\næ•…éšœãƒ­ã‚°å…¨ä½“ã‚’ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—ã§ä¿¯ç°ã—ãŸçµæœï¼Œå…¨ä½“ä»¶æ•°ã§ã¯ä¸Šä½ã«å…¥ã‚‰ãªã„ã‚«ãƒ†ã‚´ãƒªã®ä¸­ã«ã‚‚ï¼Œç‰¹å®šã®æ•…éšœå†…å®¹ã«åã£ãŸç•°å¸¸ç™ºç”ŸãŒé›†ä¸­ã—ã¦ã„ã‚‹ç®‡æ‰€ãŒã‚ã‚‹ã“ã¨ãŒæ˜ã‚‰ã‹ã«ãªã£ãŸã€Œé›»æºãƒ¦ãƒ‹ãƒƒãƒˆ Ã— ç•°éŸ³ã€ã‚„ã€Œãƒ¡ãƒ¢ãƒª Ã— æ¥è§¦ä¸è‰¯ã€ãªã©ï¼Œãƒ©ãƒ³ã‚­ãƒ³ã‚°ã§ã¯ç›®ç«‹ãŸãªã„ã‚‚ã®ã®ï¼Œä»–ã®æ•…éšœå†…å®¹ã¨æ¯”è¼ƒã™ã‚‹ã¨æ˜ã‚‰ã‹ã«â€œæµ®ã„ã¦ã„ã‚‹â€ã‚»ãƒ«ãŒå­˜åœ¨ã—ã¦ã„ãŸ\n\n\nã‚¤ãƒ³ã‚µã‚¤ãƒˆ\nä»Šå¾Œã®ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã§ã¯ï¼Œä»¶æ•°ãŒå°‘ãªãã¦ã‚‚æ¥µç«¯ãªåã‚Šã‚’ç¤ºã™â€œç•°å¸¸ã«æ¿ƒã„ã‚»ãƒ«â€ã‚’ãƒˆãƒªã‚¬ãƒ¼ã«ï¼Œç‚¹æ¤œå¯¾è±¡ã®è¦‹ç›´ã—ã‚„ã‚¢ãƒ©ãƒ¼ãƒˆæ¡ä»¶ã®å†è¨­è¨ˆã‚’æ¤œè¨ã™ã¹ã",
    "crumbs": [
      "1æ¬¡å…ƒãƒ‡ãƒ¼ã‚¿",
      "<span class='chapter-number'>4</span>Â  <span class='chapter-title'>è³ªçš„ãƒ‡ãƒ¼ã‚¿ã®å‡ºç¾é »åº¦</span>"
    ]
  },
  {
    "objectID": "posts/1D-datavisualization/frequency-counts-of-data-with-bar-plot.html#å¯è¦–åŒ–å®Ÿè£…1-ãƒ‘ãƒ¬ãƒ¼ãƒˆå›³",
    "href": "posts/1D-datavisualization/frequency-counts-of-data-with-bar-plot.html#å¯è¦–åŒ–å®Ÿè£…1-ãƒ‘ãƒ¬ãƒ¼ãƒˆå›³",
    "title": "4Â  è³ªçš„ãƒ‡ãƒ¼ã‚¿ã®å‡ºç¾é »åº¦",
    "section": "å¯è¦–åŒ–å®Ÿè£…1: ãƒ‘ãƒ¬ãƒ¼ãƒˆå›³",
    "text": "å¯è¦–åŒ–å®Ÿè£…1: ãƒ‘ãƒ¬ãƒ¼ãƒˆå›³\n â–¶Â  å‰å‡¦ç†\nå‡ºç¾é »åº¦ã®ã‚«ãƒ©ãƒ ã‚’ç”¨ã„ã¦äº‹å‰ã« descending sort ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«å®Ÿæ–½ã—ã¾ã™ï¼\n\n\nCode\ndf_sorted = df.sort_values(by=\"count\", ascending=False).reset_index(drop=True)\ndf_sorted[\"cum_percent\"] = df_sorted[\"count\"].cumsum() / df_sorted[\"count\"].sum()\ndf_sorted[\"label\"] = df_sorted[\"faulty_component\"].astype(str) + \"-\" + df_sorted[\"faulty_category\"].astype(str)\ndf_sorted.head()\n\n\n\n\n\n\n\n\n\nfaulty_component\nfaulty_category\ncount\ncum_percent\nlabel\n\n\n\n\n0\nãƒãƒ¼ãƒ‰ãƒ‡ã‚£ã‚¹ã‚¯\næ¥ç¶šä¸è‰¯\n125\n0.160256\nãƒãƒ¼ãƒ‰ãƒ‡ã‚£ã‚¹ã‚¯-æ¥ç¶šä¸è‰¯\n\n\n1\né›»æºãƒ¦ãƒ‹ãƒƒãƒˆ\né›»æºä¸è‰¯\n91\n0.276923\né›»æºãƒ¦ãƒ‹ãƒƒãƒˆ-é›»æºä¸è‰¯\n\n\n2\nãƒãƒ¼ãƒ‰ãƒ‡ã‚£ã‚¹ã‚¯\nç•°éŸ³\n87\n0.388462\nãƒãƒ¼ãƒ‰ãƒ‡ã‚£ã‚¹ã‚¯-ç•°éŸ³\n\n\n3\nãƒ¡ãƒ¢ãƒª\nèµ·å‹•ä¸è‰¯\n73\n0.482051\nãƒ¡ãƒ¢ãƒª-èµ·å‹•ä¸è‰¯\n\n\n4\næ¶²æ™¶ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤\nç”»é¢ä¸èªè­˜\n70\n0.571795\næ¶²æ™¶ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤-ç”»é¢ä¸èªè­˜\n\n\n\n\n\n\n\n  â–¶Â  å¼•æ•°ãƒ†ãƒ¼ãƒ–ãƒ«\n\nArgs\n\n\n\n\n\n\nå¼•æ•°\nèª¬æ˜\n\n\n\n\ndata\nã‚«ãƒ†ã‚´ãƒªï¼Œä»¶æ•°ï¼Œç´¯ç©å€¤ã‚’å«ã‚€å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ï¼cumulative plotãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã«ã¯ï¼Œãƒ‡ãƒ¼ã‚¿ãŒé©åˆ‡ã«ã‚½ãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚‹\n\n\ncategory_column\nxè»¸ã«ä½¿ç”¨ã™ã‚‹ã‚«ãƒ†ã‚´ãƒªåˆ—ã®åå‰\n\n\ncount_column\næ£’ã‚°ãƒ©ãƒ•ï¼ˆä¸»è»¸ï¼‰ã«ä½¿ç”¨ã™ã‚‹ä»¶æ•°åˆ—ã®åå‰\n\n\ncumulative_column\nline plot(y2-axis)ã«ä½¿ç”¨ã™ã‚‹ç´¯ç©å€¤ï¼ˆä¾‹ï¼šãƒ‘ãƒ¼ã‚»ãƒ³ãƒ†ãƒ¼ã‚¸ï¼‰ã®åˆ—ã®åå‰\n\n\nxaxis_name\n: xè»¸ã®ã‚¿ã‚¤ãƒˆãƒ«ï¼ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ \"\"\n\n\ny1_axis_name\ny1-axisã®ã‚¿ã‚¤ãƒˆãƒ«ï¼ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ \"\"\n\n\ny2_axis_name\ny2-axisã®ã‚¿ã‚¤ãƒˆãƒ«ï¼ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ \"\"\n\n\ny1_label\nbar plotã®legendãƒ©ãƒ™ãƒ«ï¼ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ \"\"\n\n\ny2_label\ncumulative plotã®legendãƒ©ãƒ™ãƒ«ï¼ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ \"\"\n\n\nfigure_title\nå›³å…¨ä½“ã®ã‚¿ã‚¤ãƒˆãƒ«ï¼ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ \"\"\n\n\nfigsize\nmatplotlibç”¨ã®figure sizeè¨­å®šå€¤(tuple)\n\n\n\n  â–¶Â  Plotly ã‚’ç”¨ã„ãŸå¯è¦–åŒ–\n\n\nCode\nimport plotly.graph_objects as go\n\n\ndef plot_category_frequency_plotly(\n    data: pd.DataFrame,\n    category_column: str,\n    count_column: str,\n    cumulative_column: str,\n    xaxis_name: str = \"\",\n    y1_axis_name: str = \"\",\n    y2_axis_name: str = \"\",\n    y1_label: str = \"\",\n    y2_label: str = \"\",\n    figure_title: str = \"\",\n) -&gt; go.Figure:\n    \"\"\"\n    - ã‚«ãƒ†ã‚´ãƒªã”ã¨ã®ä»¶æ•°ã‚’æ£’ã‚°ãƒ©ãƒ•ã§ï¼Œç´¯ç©å€¤ï¼ˆä¾‹ï¼šç´¯ç©ãƒ‘ãƒ¼ã‚»ãƒ³ãƒ†ãƒ¼ã‚¸ï¼‰ã‚’æŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•ã§å¯è¦–åŒ–ã™ã‚‹Plotlyå›³ã‚’ç”Ÿæˆ\n    - cumulative plotãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã«ã¯ï¼Œãƒ‡ãƒ¼ã‚¿ãŒé©åˆ‡ã«ã‚½ãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚‹\n    \"\"\"\n    # create bar trace\n    bar = go.Bar(\n        x=data[category_column],\n        y=data[count_column],\n        name=y1_label,\n        yaxis=\"y1\",\n        marker=dict(color=\"#6699CC\"),\n    )\n\n    # Create cumulative line trace\n    line = go.Scatter(\n        x=data[category_column],\n        y=data[cumulative_column],\n        name=y2_label,\n        yaxis=\"y2\",\n        mode=\"lines+markers\",\n        line=dict(color=\"#000000\", dash=\"dot\"),\n    )\n\n    # Layout\n    layout = go.Layout(\n        title=dict(\n            text=figure_title,\n            x=0.,\n            xanchor=\"left\",\n            yanchor=\"top\",\n        ),\n        margin=dict(t=50),\n        xaxis=dict(title=xaxis_name, tickangle=45),\n        yaxis=dict(title=y1_axis_name),\n        yaxis2=dict(\n            title=y2_axis_name,\n            overlaying=\"y\",\n            side=\"right\",\n            range=[0, 1.1],\n            gridcolor=\"#EFF5F5\",\n        ),\n        legend=dict(x=1.05, y=1.0, orientation=\"v\"),\n    )\n\n    # Plot\n    fig = go.Figure(data=[bar, line], layout=layout).update_layout(\n        {\"plot_bgcolor\": \"#EFF5F5\", \"yaxis\": {\"gridcolor\": \"#EFF5F5\"}}\n    )\n\n    return fig\n\n\nå®Ÿè¡Œã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ï¼Œ\n\n\nCode\nfig = plot_category_frequency_plotly(\n    data=df_sorted,\n    category_column=\"label\",\n    count_column=\"count\",\n    cumulative_column=\"cum_percent\",\n    xaxis_name=\"Faulty Category\",\n    y1_axis_name=\"Frequency\",\n    y2_axis_name=\"Cumulative Percentage\",\n    y1_label=\"ä»¶æ•°\",\n    y2_label=\"ç´¯ç©å‰²åˆ\",\n    figure_title=\"PC Faulty component frequency\",\n)\nfig.show()\n\n\n                                                \n\n\n  â–¶Â  matplotlib ã‚’ç”¨ã„ãŸå¯è¦–åŒ–\n\n\nCode\nimport matplotlib.pyplot as plt\n\n\ndef plot_category_frequency_matplotlib(\n    data: pd.DataFrame,\n    category_column: str,\n    count_column: str,\n    cumulative_column: str,\n    xaxis_name: str = \"\",\n    y1_axis_name: str = \"\",\n    y2_axis_name: str = \"\",\n    y1_label: str = \"\",\n    y2_label: str = \"\",\n    figure_title: str = \"\",\n    figsize: tuple = (8, 6),\n):\n    fig, ax1 = plt.subplots(figsize=figsize)\n    ax1.set_facecolor(\"#EFF5F5\")  # ğŸ‘ˆ plot background color\n\n    # Bar plot on primary y-axis\n    bars = ax1.bar(\n        data[category_column], data[count_column], color=\"#6699CC\", label=y1_label\n    )\n    ax1.set_ylabel(y1_axis_name, fontsize=12)\n    ax1.set_xlabel(xaxis_name, fontsize=12)\n    ax1.tick_params(axis=\"y\")\n\n    # Line plot on secondary y-axis\n    ax2 = ax1.twinx()\n    line = ax2.plot(\n        data[category_column],\n        data[cumulative_column],\n        color=\"#000000\",\n        linestyle=\"dotted\",\n        marker=\"o\",\n        label=y2_label,\n    )\n    ax2.set_ylabel(y2_axis_name, fontsize=12)\n    ax2.set_ylim(0, 1.1)\n    ax2.tick_params(axis=\"y\")\n    plt.setp(ax1.get_xticklabels(), rotation=(360-45), ha=\"left\")  # ğŸ‘ˆ Rotate x-axis labels\n    \n    # Title and legend\n    fig.suptitle(figure_title, x=0.0, ha=\"left\", fontsize=14)\n\n    # Combine legends from both axes\n    lines_labels = [*ax1.get_legend_handles_labels(), *ax2.get_legend_handles_labels()]\n    fig.legend(loc=\"upper left\", bbox_to_anchor=(0.925, 0.925))\n    fig.patch.set_facecolor(\"#FFFFFF\")\n\n    plt.tight_layout()\n    return fig, ax1, ax2\n\n\nå®Ÿè¡Œã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ï¼Œ\n\n\nCode\nfrom regmonkey_style import stylewizard as sw\n\n# japanese language setup\nsw.set_font(\"IPAexGothic\")\n\n\nfig, ax1, ax2 = plot_category_frequency_matplotlib(\n    data=df_sorted,\n    category_column=\"label\",\n    count_column=\"count\",\n    cumulative_column=\"cum_percent\",\n    xaxis_name=\"Faulty Category\",\n    y1_axis_name=\"Frequency\",\n    y2_axis_name=\"Cumulative Percentage\",\n    y1_label=\"ä»¶æ•°\",\n    y2_label=\"ç´¯ç©å‰²åˆ\",\n    figure_title=\"PC Faulty component frequency\",\n)\nplt.show()",
    "crumbs": [
      "1æ¬¡å…ƒãƒ‡ãƒ¼ã‚¿",
      "<span class='chapter-number'>4</span>Â  <span class='chapter-title'>è³ªçš„ãƒ‡ãƒ¼ã‚¿ã®å‡ºç¾é »åº¦</span>"
    ]
  },
  {
    "objectID": "posts/1D-datavisualization/frequency-counts-of-data-with-bar-plot.html#å¯è¦–åŒ–å®Ÿè£…2-heatmap",
    "href": "posts/1D-datavisualization/frequency-counts-of-data-with-bar-plot.html#å¯è¦–åŒ–å®Ÿè£…2-heatmap",
    "title": "4Â  è³ªçš„ãƒ‡ãƒ¼ã‚¿ã®å‡ºç¾é »åº¦",
    "section": "å¯è¦–åŒ–å®Ÿè£…2: heatmap",
    "text": "å¯è¦–åŒ–å®Ÿè£…2: heatmap\n\nã“ã“ã§ã¯ï¼Œxaxis, yaxisã¨ãªã‚‹ï¼’ã¤ã®ã‚«ãƒ†ã‚´ãƒªå¤‰æ•°ã‚’ç”¨ã„ã¦pivot tableã‚’ä½œæˆã—ï¼Œãã‚Œã‚’heatmapã§å¯è¦–åŒ–\npivotã«ã‚ãŸã£ã¦ã®é›†è¨ˆé–¢æ•°ã¯ sum ã‚’ç”¨ã„ã‚‹\nNaNï¼ˆæ¬ æå€¤ï¼‰ã¯ãƒ—ãƒ­ãƒƒãƒˆå‰ã«0ã§è£œå®Œ\n\"PuBu\" ã‚«ãƒ©ãƒ¼ã‚¹ã‚±ãƒ¼ãƒ«ã‚’ä½¿ç”¨\n\n â–¶Â  å®Ÿè£…\n\n\nCode\nimport seaborn as sns\n\n\ndef heatmap_frequency(\n    data: pd.DataFrame,\n    xaxis_column: str,\n    yaxis_column: str,\n    value_column: str,\n    x_axis_name: str = \"\",\n    y_axis_name: str = \"\",\n    figure_title: str = \"\",\n    plot_type = 'plotly',\n    figsize = (10, 6)\n):\n    table = pd.pivot_table(\n        data,\n        values=value_column,\n        index=[yaxis_column],\n        columns=[xaxis_column],\n        aggfunc=\"sum\",\n    ).fillna(0)\n\n    if plot_type == 'plotly':\n        fig = go.Figure(\n            data=go.Heatmap(\n                z=table.values,\n                x=table.columns,  # Optional: x-axis labels\n                y=table.index,  # Optional: y-axis labels\n                colorscale=\"PuBu\",  # You can try: 'Blues', 'Hot', 'Cividis', etc.\n            )\n        )\n\n        fig.update_layout(\n            title=figure_title, xaxis_title=x_axis_name, yaxis_title=y_axis_name\n            \n        )\n\n        return fig\n    \n    else:\n         # Create the plot\n        fig, ax = plt.subplots(figsize=figsize)\n\n        sns.heatmap(\n            table.values,\n            xticklabels=table.columns,\n            yticklabels=table.index,\n            cmap=\"PuBu\",\n            ax=ax\n        )\n\n        ax.set_xlabel(x_axis_name)\n        ax.set_ylabel(y_axis_name)\n        ax.set_title(figure_title, loc=\"center\")\n\n        plt.xticks(rotation=(360-45), ha='left')\n        plt.yticks(rotation=0)\n\n        plt.tight_layout()\n        return fig, ax\n\n\n â–¶Â  Plotly ã«ã‚ˆã‚‹å¯è¦–åŒ–\n\n\nCode\nfig = heatmap_frequency(\n    data=df_sorted,\n    xaxis_column=\"faulty_category\",\n    yaxis_column=\"faulty_component\",\n    value_column=\"count\",\n    x_axis_name=\"æ•…éšœã‚«ãƒ†ã‚´ãƒª\",\n    y_axis_name=\"æ•…éšœç®‡æ‰€\",\n    figure_title=dict(\n        text=\"æ•…éšœåˆ†å¸ƒ\",\n        font=dict(size=18),\n        automargin=True,\n        x=0.5,  # Center title\n        y=0.95,\n        xanchor=\"center\",\n    ),\n)\n\n\nfig.show()\n\n\n                                                \n\n\n â–¶Â  matplotlib ã«ã‚ˆã‚‹å¯è¦–åŒ–\n\n\nCode\nfig, ax = heatmap_frequency(\n    data=df_sorted,\n    xaxis_column='faulty_category',\n    yaxis_column='faulty_component',\n    value_column='count',\n    x_axis_name='æ•…éšœã‚«ãƒ†ã‚´ãƒª',\n    y_axis_name='æ•…éšœç®‡æ‰€',\n    figure_title='æ•…éšœåˆ†å¸ƒ',\n    plot_type = 'matplotlib',\n)\n\nplt.show()",
    "crumbs": [
      "1æ¬¡å…ƒãƒ‡ãƒ¼ã‚¿",
      "<span class='chapter-number'>4</span>Â  <span class='chapter-title'>è³ªçš„ãƒ‡ãƒ¼ã‚¿ã®å‡ºç¾é »åº¦</span>"
    ]
  },
  {
    "objectID": "posts/relationships-between-variables/chapter-header.html",
    "href": "posts/relationships-between-variables/chapter-header.html",
    "title": "å¤‰æ•°é–“ã®é–¢ä¿‚æ€§",
    "section": "",
    "text": "å¤‰æ•°é–“ã®é–¢ä¿‚æ€§: correlationã¨connection\n\\(p\\) æ¬¡å…ƒãƒ‡ãƒ¼ã‚¿ã‚’å–ã‚Šæ‰±ã†å ´åˆï¼Œ\nã¨ã„ã†EDAã‚¯ã‚¨ãƒƒã‚·ãƒ§ãƒ³ã‚’æ˜ã‚‰ã‹ã«ã—ãŸã„ã‚±ãƒ¼ã‚¹ãŒå¤šã„ã¨æ€ã„ã¾ã™ï¼å¤‰æ•°æ„Ÿã®é–¢ä¿‚æ€§ã¯ä¸€èˆ¬ã« å¤‰æ•°é–“ã®ç›¸é–¢(correlation) ã¨ã„ã†è¦³ç‚¹ã§ã‚’first stepã®å¯è¦–åŒ–ãŒè©¦ã¿ã‚‰ã‚Œã¾ã™ï¼ å…·ä½“çš„ã«ã¯é¸æŠã—ãŸï¼’å¤‰æ•°ã®scatter plotã‚„line plotã§ã®å¯è¦–åŒ–ã¨ãªã‚Šã¾ã™ï¼ã“ã“ã§ã„ã†ã€Œå¤‰æ•°é–“ã®ç›¸é–¢ã€ã¯Pearsonç›¸é–¢ä¿‚æ•°ã®ã¿ã‚’æŒ‡ã™ã®ã§ã¯ãªãï¼Œ\nã¨ã„ã†å¹…åºƒã„æ¦‚å¿µã§ã™ï¼ã¾ãŸï¼Œå¤‰æ•°é–“ã®é–¢ä¿‚æ€§ã¯ç›¸é–¢ã ã‘ã§ãªãï¼Œå€‹ã€…ã®data pointsãŒã©ã®ã‚ˆã†ã«ãƒªãƒ³ã‚¯ã—ã¦ã„ã‚‹ã®ã‹ï¼Ÿã¨ã„ã† å¤‰æ•°æ„Ÿã®ã¤ãªãŒã‚Š(connection) ã®å¯è¦–åŒ–ã‚‚è©¦ã¿ã‚‰ã‚ŒãŸã‚Šã—ã¾ã™ï¼ å…·ä½“çš„ã«ã¯ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚°ãƒ©ãƒ•ã®å¯è¦–åŒ–ãªã©ãŒè©²å½“ã—ã¾ã™ï¼",
    "crumbs": [
      "å¤‰æ•°é–“ã®é–¢ä¿‚æ€§"
    ]
  },
  {
    "objectID": "posts/relationships-between-variables/chapter-header.html#å¤‰æ•°é–“ã®é–¢ä¿‚æ€§-correlationã¨connection",
    "href": "posts/relationships-between-variables/chapter-header.html#å¤‰æ•°é–“ã®é–¢ä¿‚æ€§-correlationã¨connection",
    "title": "å¤‰æ•°é–“ã®é–¢ä¿‚æ€§",
    "section": "",
    "text": "Definition 1 : å¤šæ¬¡å…ƒãƒ‡ãƒ¼ã‚¿ \nå˜ä¸€ã®å¤‰æ•° \\(x\\) ã ã‘ã§ãªãï¼Œ\\((x, y, z)\\) ãªã©ã®è¤‡æ•°ã®å¤‰æ•°ã‚’è¦³æ¸¬ã—ã¦ï¼Œ\\(n\\) çµ„ã®ãƒ‡ãƒ¼ã‚¿ã‚’å¾—ã‚‹å ´åˆï¼Œãã®ãƒ‡ãƒ¼ã‚¿ã‚’å¤šæ¬¡å…ƒãƒ‡ãƒ¼ã‚¿ã¨å‘¼ã¶ï¼ ä¸€èˆ¬ã« \\(p\\) å€‹ã®å¤‰æ•°ã‚’å–ã‚Šæ‰±ã†å ´åˆï¼\\(p\\) æ¬¡å…ƒãƒ‡ãƒ¼ã‚¿ã¨å‘¼ã¶ï¼\n\n\n\n\nå¤‰æ•°æ„Ÿã®é–¢ä¿‚æ€§(relation, relationship)ã¯ã©ã®ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã®ã‹ï¼Ÿ\nä¸€æ–¹ãŒå¢—ãˆãŸã‚‰ä»–æ–¹ã‚‚å¢—ãˆã‚‹ã‚ˆã†ãªé–¢ä¿‚æ€§ã«ãªã£ã¦ã„ã‚‹ã®ã‹ï¼Ÿ\n\n\n\nä¸€æ–¹ã®å¤‰æ•°ãŒå¤‰åŒ–ã—ãŸã¨ãï¼Œã‚‚ã†ä¸€æ–¹ã®å¤‰æ•°ã®å¤‰åŒ–ã¯ã©ã®ã‚ˆã†ãªå‚¾å‘ãŒã‚ã‚‹ã®ã‹ï¼Ÿ",
    "crumbs": [
      "å¤‰æ•°é–“ã®é–¢ä¿‚æ€§"
    ]
  },
  {
    "objectID": "posts/comparison-of-groups/categorical-group-ratios-with-stacked-bar-plot.html",
    "href": "posts/comparison-of-groups/categorical-group-ratios-with-stacked-bar-plot.html",
    "title": "5Â  ã‚°ãƒ«ãƒ¼ãƒ—é–“ã®å‰²åˆå·®åˆ†",
    "section": "",
    "text": "å•é¡Œè¨­å®š\nData\nCode\nimport pandas as pd\n\ndata = {\n    '2024': [0.72, 0.10, 0.05, 0.03, 0.02, 0.03, 0.015, 0.01], # 'Public transportation'ã¯n/aã®ãŸã‚NaN\n    '2019': [0.85, 0.12, 0.09, 0.06, 0.05, 0.04, 0.03, 0.02]\n}\n\nindex = [\n    'Own car',\n    'Public transportation',\n    'Walking',\n    'Own bike',\n    'Ride hailing',\n    'Car sharing',\n    'Taxi',\n    'Motorcycle'\n]\n\ndf = pd.DataFrame(data, index=index).sort_values(by='2024')\ndf\n\n\n\n\nTableÂ 5.1: U.S. modes of tranportation to commute\n\n\n\n\n\n\n\n\n\n\n2024\n2019\n\n\n\n\nMotorcycle\n0.010\n0.02\n\n\nTaxi\n0.015\n0.03\n\n\nRide hailing\n0.020\n0.05\n\n\nOwn bike\n0.030\n0.06\n\n\nCar sharing\n0.030\n0.04\n\n\nWalking\n0.050\n0.09\n\n\nPublic transportation\n0.100\n0.12\n\n\nOwn car\n0.720\n0.85\nKey message",
    "crumbs": [
      "ã‚°ãƒ«ãƒ¼ãƒ—é–“ã®æ¯”è¼ƒ",
      "<span class='chapter-number'>5</span>Â  <span class='chapter-title'>ã‚°ãƒ«ãƒ¼ãƒ—é–“ã®å‰²åˆå·®åˆ†</span>"
    ]
  },
  {
    "objectID": "posts/comparison-of-groups/categorical-group-ratios-with-stacked-bar-plot.html#å•é¡Œè¨­å®š",
    "href": "posts/comparison-of-groups/categorical-group-ratios-with-stacked-bar-plot.html#å•é¡Œè¨­å®š",
    "title": "5Â  ã‚°ãƒ«ãƒ¼ãƒ—é–“ã®å‰²åˆå·®åˆ†",
    "section": "",
    "text": "2020ã‚³ãƒ­ãƒŠæµè¡Œã¨ã„ã†ç”Ÿæ´»ã‚¹ã‚¿ã‚¤ãƒ«æ¿€å¤‰ã‚¤ãƒ™ãƒ³ãƒˆãŒã‚ã£ãŸã«ã‚‚é–¢ã‚ã‚‰ãšã€äººã€…ã®æ—¥å¸¸äº¤é€šæ‰‹æ®µã¯ä¾ç„¶ã¨ã—ã¦è»ŠãŒä¸­å¿ƒçš„",
    "crumbs": [
      "ã‚°ãƒ«ãƒ¼ãƒ—é–“ã®æ¯”è¼ƒ",
      "<span class='chapter-number'>5</span>Â  <span class='chapter-title'>ã‚°ãƒ«ãƒ¼ãƒ—é–“ã®å‰²åˆå·®åˆ†</span>"
    ]
  },
  {
    "objectID": "posts/comparison-of-groups/categorical-group-ratios-with-stacked-bar-plot.html#å¯è¦–åŒ–æ–¹é‡",
    "href": "posts/comparison-of-groups/categorical-group-ratios-with-stacked-bar-plot.html#å¯è¦–åŒ–æ–¹é‡",
    "title": "5Â  ã‚°ãƒ«ãƒ¼ãƒ—é–“ã®å‰²åˆå·®åˆ†",
    "section": "å¯è¦–åŒ–æ–¹é‡",
    "text": "å¯è¦–åŒ–æ–¹é‡\n\n\n\n\n\n\nObjectives\n\n\n\n\n\n2019å¹´ã¨2024å¹´ã®2ã¤ã®æ™‚ç‚¹ã«ãŠã‘ã‚‹äº¤é€šæ‰‹æ®µã®åˆ©ç”¨çŠ¶æ³ï¼ˆåˆ©ç”¨å‰²åˆï¼‰ã‚’è»Šåˆ©ç”¨è€…å‰²åˆ2019 vs è»Šåˆ©ç”¨è€…å‰²åˆ2024ã¨ã„ã†Apple-to-Appleã§æ¯”è¼ƒã—ã‚„ã™ãã™ã‚‹\næ™‚é–“ã®çµŒéã¨ã¨ã‚‚ã«å„äº¤é€šæ‰‹æ®µã®åˆ©ç”¨ç‡ãŒã©ã®ã‚ˆã†ã«å¤‰åŒ–ã—ãŸã‹ã‚’æŠŠæ¡ã—ã‚„ã™ãã—ãŸã„\n\n\n\n\n\næ–¹é‡æ¤œè¨\n\nç§»å‹•æ‰‹æ®µã¨ã„ã†ã‚«ãƒ†ã‚´ãƒªã‚«ãƒ«ãƒ‡ãƒ¼ã‚¿(valueåŒå£«ã«é †åºæ€§ã¯ãªã„)\näººé–“ã®ç›®ã¯å·¦ä¸Šã‹ã‚‰zæ–‡å­—ã®é †ç•ªã§æƒ…å ±ã‚’å‡¦ç†ã™ã‚‹å‚¾å‘ãŒã‚ã‚‹\nè‡ªå®¶æ‰€æœ‰è€…(Own car)ã‚’å·¦ã«è¦‹ã¦ã‹ã‚‰ï¼Œç›®ç·šãŒå³ã«ç§»å‹•ã—ï¼Œ2019 vs 2024ã§æ¯”è¼ƒã™ã‚‹ã®ãŒè‡ªç„¶ãªæµã‚Œ(=æ•°å€¤æ°´æº–ã‚’ç¢ºèªã™ã‚‹å‰ã«ãã®æ•°å€¤ãŒã©ã®ã‚«ãƒ†ã‚´ãƒªãƒ¼ã®ã‚‚ã®ãªã®ã‹ã‚’è‡ªç„¶ãªæµã‚Œã§è¦‹ã¦ã‚‚ã‚‰ãˆã‚‹)\n2019å¹´ã¨2024å¹´ã¨ã‚‚ã«è‡ªå®¶ç”¨è»ŠãŒãƒ¡ã‚¤ãƒ³ã®äº¤é€šæ‰‹æ®µã§ã‚ã‚‹ã“ã¨ã‚’ä¼ãˆãŸã„ã®ã§ï¼Œã‚«ãƒ†ã‚´ãƒªãƒ¼ã¯2019å¹´ã®åˆ©ç”¨å‰²åˆã§ã‚½ãƒ¼ãƒˆã™ã‚‹\n\n\n\n\n\n\n\nREMARKS\n\n\n\n\n\nã‚«ãƒ†ã‚´ãƒªã‚«ãƒ«åˆ¥æ°´æº–ã‚’ç¤ºã—ãŸã„ã¨ãã¯horizontal bar chartãŒåŠ¹æœçš„\nèª­ã¿ã‚„ã™ã• or ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨æ•´åˆçš„ãªå½¢ã§ã‚«ãƒ†ã‚´ãƒªãƒ¼ã‚’ã‚½ãƒ¼ãƒˆã™ã‚‹",
    "crumbs": [
      "ã‚°ãƒ«ãƒ¼ãƒ—é–“ã®æ¯”è¼ƒ",
      "<span class='chapter-number'>5</span>Â  <span class='chapter-title'>ã‚°ãƒ«ãƒ¼ãƒ—é–“ã®å‰²åˆå·®åˆ†</span>"
    ]
  },
  {
    "objectID": "posts/comparison-of-groups/categorical-group-ratios-with-stacked-bar-plot.html#å¯è¦–åŒ–å®Ÿè£…",
    "href": "posts/comparison-of-groups/categorical-group-ratios-with-stacked-bar-plot.html#å¯è¦–åŒ–å®Ÿè£…",
    "title": "5Â  ã‚°ãƒ«ãƒ¼ãƒ—é–“ã®å‰²åˆå·®åˆ†",
    "section": "å¯è¦–åŒ–å®Ÿè£…",
    "text": "å¯è¦–åŒ–å®Ÿè£…\n\n(A) Plotly with horizontal bar plot\n\n\nCode\nimport plotly.graph_objects as go\n\nfig = go.Figure()\n\n# Add bars for 2024/2025\nfig.add_trace(\n    go.Bar(\n        y=df.index,\n        x=df[\"2024\"],\n        legendgroup=\"group\",\n        legendgrouptitle_text=\"year\",\n        name=\"2024\",\n        orientation=\"h\",\n        marker_color=\"#003366\",\n    )\n)\n\n# Add bars for 2019\nfig.add_trace(\n    go.Bar(\n        y=df.index,\n        x=df[\"2019\"],\n        legendgroup=\"group\",\n        legendgrouptitle_text=\"year\",\n        name=\"2019\",\n        orientation=\"h\",\n        marker_color=\"#99ccff\",\n    )\n)\n\n\n# Layout customization\nfig.update_layout(\n    title=dict(\n        text=\"2020å¹´ã‚³ãƒ­ãƒŠæµè¡Œå¾Œã‚‚äººã€…ã®æ—¥å¸¸äº¤é€šæ‰‹æ®µã¯ä¾ç„¶ã¨ã—ã¦è»ŠãŒä¸­å¿ƒçš„\",\n        font=dict(size=21),\n    ),\n    xaxis=dict(\n        title=\"Share of commuters\",\n        tickformat=\".0%\",  # Format as percentage\n        tickfont=dict(size=16),\n        range=[0, 1.0],\n        gridcolor=\"#DEDEDE\",\n    ),\n    yaxis=dict(\n        tickfont=dict(size=16),\n        automargin=True,  # helps avoid label clipping\n    ),\n    barmode=\"group\",  # you can also try 'group' for grouped layout\n    height=600,\n    bargroupgap=0,\n    legend=dict(orientation=\"h\", yanchor=\"bottom\", y=0.1, xanchor=\"right\", x=0.95),\n    plot_bgcolor=\"#EFF5F5\",\n)\n\nfig.add_annotation(\n    text=\"Source: Statista Consumer Insights, 3,338(2019) and 7,447(2024) U.S. respondents (18-64 y/o)\",\n    xref=\"paper\",\n    yref=\"paper\",\n    x=-0.15,\n    y=-0.2,  # y &lt; 0 puts it below the chart\n    showarrow=False,\n    font=dict(size=14, color=\"gray\"),\n    xanchor=\"left\",\n)\n\nfig.update_layout(\n    margin=dict(t=40, b=100)  # increase bottom margin\n)\n\nfig.show()\n\n\n                                                \n\n\n\n\n(B) Matplotlib with horizontal bar plot\n\n\nCode\nimport matplotlib.pyplot as plt\nimport numpy as np\nfrom regmonkey_style import stylewizard as sw\n\n# japanese language setup\nsw.set_font(\"IPAexGothic\")\n\n# Set figure size and style\nfig, ax = plt.subplots(figsize=(12, 10))\n\n# Create horizontal bars\ny_pos = np.arange(len(df.index))\nwidth = 0.35\n\n# Plot bars for 2024 and 2019\nbar1 = ax.barh(y_pos + width / 2, df[\"2019\"], width, label=\"2019\", color=\"#99ccff\")\nbar2 = ax.barh(y_pos - width / 2, df[\"2024\"], width, label=\"2024\", color=\"#003366\")\n\n# Customize axes\nax.set_yticks(y_pos)\nax.set_yticklabels(df.index, fontsize=16)\nax.set_xlabel(\"Share of commuters\", fontsize=16)\ntitle = ax.set_title(\n    \"2020ã‚³ãƒ­ãƒŠæµè¡Œå¾Œã‚‚äººã€…ã®æ—¥å¸¸äº¤é€šæ‰‹æ®µã¯ä¾ç„¶ã¨ã—ã¦è»ŠãŒä¸­å¿ƒçš„\",\n    loc=\"left\",\n    pad=20,\n    fontsize=21,\n)\ntitle.set_position((-0.1, title.get_position()[1]))\n\n# Format x-axis as percentage\nax.set_xlim(0, 1.0)\nax.xaxis.set_major_formatter(plt.FuncFormatter(lambda x, _: \"{:.0%}\".format(x)))\nax.tick_params(axis=\"x\", labelsize=16)\n\n# Customize grid\nax.grid(axis=\"x\", color=\"#DEDEDE\")\nax.set_facecolor(\"#EFF5F5\")\n\n# Add legend\nax.legend(loc=\"lower right\", bbox_to_anchor=(0.95, 0.1), ncol=2)\n\n# Add source annotation\nfig.text(\n    0,\n    0.1,\n    \"Source: Statista Consumer Insights, 3,338(2019) and 7,447(2024) U.S. respondents (18-64 y/o)\",\n    fontsize=12,\n    color=\"gray\",\n    ha=\"left\",\n)\n\n# Adjust layout to prevent clipping\nplt.subplots_adjust(bottom=0.2)\n\nplt.show()",
    "crumbs": [
      "ã‚°ãƒ«ãƒ¼ãƒ—é–“ã®æ¯”è¼ƒ",
      "<span class='chapter-number'>5</span>Â  <span class='chapter-title'>ã‚°ãƒ«ãƒ¼ãƒ—é–“ã®å‰²åˆå·®åˆ†</span>"
    ]
  },
  {
    "objectID": "posts/comparison-of-groups/categorical-group-ratios-with-stacked-bar-plot.html#references",
    "href": "posts/comparison-of-groups/categorical-group-ratios-with-stacked-bar-plot.html#references",
    "title": "5Â  ã‚°ãƒ«ãƒ¼ãƒ—é–“ã®å‰²åˆå·®åˆ†",
    "section": "References",
    "text": "References\n\nKnaflic (2016), p57-58\n\n\n\n\n\nKnaflic, C. N. (2016), Storytelling with Data: A Data Visualization Guide for Business Professionals, Oâ€™Reilly Media.",
    "crumbs": [
      "ã‚°ãƒ«ãƒ¼ãƒ—é–“ã®æ¯”è¼ƒ",
      "<span class='chapter-number'>5</span>Â  <span class='chapter-title'>ã‚°ãƒ«ãƒ¼ãƒ—é–“ã®å‰²åˆå·®åˆ†</span>"
    ]
  }
]